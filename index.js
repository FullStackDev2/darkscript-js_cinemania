import{a as f}from"./assets/vendor-2s9xPmg-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#checkbox"),t=localStorage.getItem("theme");if(t==="light"?document.body.classList.add("light-mode"):document.body.classList.remove("light-mode"),!e)return;e.checked=t==="light";function o(a){a.target.checked?(document.body.classList.add("light-mode"),localStorage.setItem("theme","light")):(document.body.classList.remove("light-mode"),localStorage.setItem("theme","dark"))}e.addEventListener("change",o,!1)});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".menu-open-btn"),t=document.querySelector(".mobile-menu");if(!e||!t)return;e.setAttribute("aria-expanded","false");let o=null;function a(){o||(o=document.createElement("div"),o.className="mobile-menu-overlay",o.addEventListener("click",i),document.body.appendChild(o))}function n(){o&&(o.removeEventListener("click",i),document.body.removeChild(o),o=null)}function r(){t.classList.add("open"),e.setAttribute("aria-expanded","true"),a(),document.body.style.overflow="hidden"}function i(){t.classList.remove("open"),e.setAttribute("aria-expanded","false"),n(),document.body.style.overflow=""}e.addEventListener("click",()=>{t.classList.contains("open")?i():r()}),t.querySelectorAll(".nav-link").forEach(d=>{d.addEventListener("click",()=>{setTimeout(i,50)})}),document.addEventListener("keydown",d=>{d.key==="Escape"&&t.classList.contains("open")&&i()})});const b="98ff2d6267ceea8e039422b0f46fb813",y="https://api.themoviedb.org/3",v=f.create({baseURL:y,params:{api_key:b,language:"en-US"}}),L=async(e="day")=>{try{const{data:t}=await v.get(`/trending/movie/${e}`);return t.results}catch(t){throw console.error(`Trend filmler (${e}) alınamadı:`,t),t}};function k(e){return e[Math.floor(Math.random()*e.length)]}async function E(){const e=document.getElementById("hero-section");if(e)try{const t=await L("day");if(t&&t.length>0){const o=k(t);w(e,o)}else p(e)}catch(t){console.error("Hero yüklenirken hata:",t),p(e)}}document.addEventListener("DOMContentLoaded",()=>{E().catch(e=>console.error("initHero error:",e))});function w(e,t){const{title:o,overview:a,backdrop_path:n,vote_average:r,id:i}=t,c=()=>{const h="linear-gradient(90deg, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.65) 20%, rgba(0,0,0,0.0) 60%)";let u="w780";window.innerWidth>=1280?u="original":window.innerWidth>=768&&(u="w1280");let l="";if(n)l=`https://image.tmdb.org/t/p/${u}${n}`;else{const m=["../../images/background/desktop-1.jpg","../../images/background/desktop-2.jpg","../../images/background/mobile-1.jpg"],g=m[Math.floor(Math.random()*m.length)];try{l=new URL(g,import.meta.url).href}catch{l=`/src/images/background/${g.split("/").pop()}`}}e.style.backgroundImage=`${h}, url(${l})`,e.style.backgroundPosition="right center"};c(),new MutationObserver(c).observe(document.body,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("resize",c),e.innerHTML=`
    <div class="container hero-content">
      <h1 class="hero-title">${o}</h1>
      <div class="hero-rating">${r.toFixed(1)}</div> 
      <p class="hero-description">${a.slice(0,220)}...</p> 
      <div class="hero-btns">
        <button type="button" class="btn-primary" id="watch-trailer">Watch trailer</button>
        <button type="button" class="btn-secondary" id="more-details">More details</button>
      </div>
    </div>
  `,document.getElementById("watch-trailer").addEventListener("click",()=>{window.dispatchEvent(new CustomEvent("openTrailerModal",{detail:{movieId:i}}))}),document.getElementById("more-details").addEventListener("click",()=>{window.dispatchEvent(new CustomEvent("openDetailsModal",{detail:{movie:t}}))})}function p(e){e.classList.add("hero-default"),e.innerHTML=`
    <div class="container hero-content">
      <h1 class="hero-title">Let’s Make Your Own Cinema</h1>
      <p class="hero-description">Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. </p>
      <button type="button" class="btn-primary" id="go-catalog">Get Started</button>
    </div>
  `;const t=["../../images/background/desktop-1.jpg","../../images/background/desktop-2.jpg","../../images/background/mobile-1.jpg"],o=t[Math.floor(Math.random()*t.length)];let a;try{a=new URL(o,import.meta.url).href}catch{a=`/src/images/background/${o.split("/").pop()}`}const n="linear-gradient(90deg, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.65) 20%, rgba(0,0,0,0.0) 60%)";e.style.backgroundImage=`${n}, url(${a})`,e.style.backgroundPosition="right center",document.getElementById("go-catalog").addEventListener("click",()=>{window.location.href="./catalog.html"})}const M=document.getElementById("openTeamModal"),I=document.getElementById("closeTeamModal"),s=document.getElementById("teamModal");M.addEventListener("click",()=>{s.style.display="flex"});I.addEventListener("click",()=>{s.style.display="none"});s.addEventListener("click",e=>{e.target===s&&(s.style.display="none")});
//# sourceMappingURL=index.js.map
