(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(e){if(e.ep)return;e.ep=!0;const i=r(e);fetch(e.href,i)}})();document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector("#checkbox"),n=localStorage.getItem("theme");if(n==="light"?document.body.classList.add("light-mode"):document.body.classList.remove("light-mode"),!t)return;t.checked=n==="light";function r(s){s.target.checked?(document.body.classList.add("light-mode"),localStorage.setItem("theme","light")):(document.body.classList.remove("light-mode"),localStorage.setItem("theme","dark"))}t.addEventListener("change",r,!1)});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".menu-open-btn"),n=document.querySelector(".mobile-menu");if(!t||!n)return;t.setAttribute("aria-expanded","false");let r=null;function s(){r||(r=document.createElement("div"),r.className="mobile-menu-overlay",r.addEventListener("click",o),document.body.appendChild(r))}function e(){r&&(r.removeEventListener("click",o),document.body.removeChild(r),r=null)}function i(){n.classList.add("open"),t.setAttribute("aria-expanded","true"),s(),document.body.style.overflow="hidden"}function o(){n.classList.remove("open"),t.setAttribute("aria-expanded","false"),e(),document.body.style.overflow=""}t.addEventListener("click",()=>{n.classList.contains("open")?o():i()}),n.querySelectorAll(".nav-link").forEach(c=>{c.addEventListener("click",()=>{setTimeout(o,50)})}),document.addEventListener("keydown",c=>{c.key==="Escape"&&n.classList.contains("open")&&o()})});function u(t){return t[Math.floor(Math.random()*t.length)]}async function m(){return console.warn("TMDB API key not set in hero.js â€” hero will use default content."),null}async function f(){const t=document.getElementById("hero-section");if(!t)return;const n=t.querySelector(".hero-title"),r=t.querySelector(".hero-description"),s=t.querySelector("#hero-btn"),e=await m();if(e&&e.length>0){let c=function(d){if(!d)return;const a=document.body.classList.contains("light-mode");t.style.setProperty("--hero-image",`url('https://image.tmdb.org/t/p/original${d}')`),t.style.setProperty("--hero-overlay",a?"var(--hero-overlay-light)":"var(--hero-overlay-dark)")};var i=c;const o=u(e),l=o.backdrop_path||o.poster_path;l&&c(l),new MutationObserver(()=>{c(l)}).observe(document.body,{attributes:!0,attributeFilter:["class"]}),n.textContent=o.title||o.name||n.textContent,r.textContent=o.overview?o.overview.slice(0,220)+(o.overview.length>220?"...":""):r.textContent,s.addEventListener("click",()=>{const d=new CustomEvent("heroMoreDetails",{detail:o});window.dispatchEvent(d)})}else s.addEventListener("click",()=>{window.location.href="./catalog.html"})}document.addEventListener("DOMContentLoaded",f);
//# sourceMappingURL=index.js.map
