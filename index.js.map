{"version":3,"file":"index.js","sources":["../src/js/utils/theme-toggle.js","../src/js/components/header.js","../src/js/components/hero.js"],"sourcesContent":["// Theme toggle: safe initialization and guard for missing element\ndocument.addEventListener('DOMContentLoaded', () => {\n    const toggleSwitch = document.querySelector('#checkbox');\n    const currentTheme = localStorage.getItem('theme');\n\n    if (currentTheme === 'light') {\n        document.body.classList.add('light-mode');\n    } else {\n        document.body.classList.remove('light-mode');\n    }\n\n    if (!toggleSwitch) return; // nothing to bind\n\n    // Set initial checkbox state\n    toggleSwitch.checked = currentTheme === 'light';\n\n    function switchTheme(e) {\n        if (e.target.checked) {\n            document.body.classList.add('light-mode');\n            localStorage.setItem('theme', 'light');\n        } else {\n            document.body.classList.remove('light-mode');\n            localStorage.setItem('theme', 'dark');\n        }\n    }\n\n    toggleSwitch.addEventListener('change', switchTheme, false);\n});","// Mobil menü açma/kapatma işlevselliği\ndocument.addEventListener('DOMContentLoaded', () => {\n\tconst menuBtn = document.querySelector('.menu-open-btn');\n\tconst mobileMenu = document.querySelector('.mobile-menu');\n\n\tif (!menuBtn || !mobileMenu) return;\n\n\tmenuBtn.setAttribute('aria-expanded', 'false');\n\n\tlet overlayEl = null;\n\n\tfunction createOverlay() {\n\t\tif (overlayEl) return;\n\t\toverlayEl = document.createElement('div');\n\t\toverlayEl.className = 'mobile-menu-overlay';\n\t\toverlayEl.addEventListener('click', closeMenu);\n\t\tdocument.body.appendChild(overlayEl);\n\t}\n\n\tfunction removeOverlay() {\n\t\tif (!overlayEl) return;\n\t\toverlayEl.removeEventListener('click', closeMenu);\n\t\tdocument.body.removeChild(overlayEl);\n\t\toverlayEl = null;\n\t}\n\n\tfunction openMenu() {\n\t\tmobileMenu.classList.add('open');\n\t\tmenuBtn.setAttribute('aria-expanded', 'true');\n\t\tcreateOverlay();\n\t\tdocument.body.style.overflow = 'hidden';\n\t}\n\n\tfunction closeMenu() {\n\t\tmobileMenu.classList.remove('open');\n\t\tmenuBtn.setAttribute('aria-expanded', 'false');\n\t\tremoveOverlay();\n\t\tdocument.body.style.overflow = '';\n\t}\n\n\tmenuBtn.addEventListener('click', () => {\n\t\tif (mobileMenu.classList.contains('open')) closeMenu();\n\t\telse openMenu();\n\t});\n\n\t// Kullanıcı mobil menüde bir gezinme bağlantısına tıkladığında kapat\n\tconst navLinks = mobileMenu.querySelectorAll('.nav-link');\n\tnavLinks.forEach(link => {\n\t\tlink.addEventListener('click', () => {\n\t\t\t// Belirli bir süre sonra kapatma için küçük bir zaman aşımı\n\t\t\tsetTimeout(closeMenu, 50);\n\t\t});\n\t});\n\n\t// ESC tuşuna basıldığında menüyü kapat\n\tdocument.addEventListener('keydown', (e) => {\n\t\tif (e.key === 'Escape' && mobileMenu.classList.contains('open')) {\n\t\t\tcloseMenu();\n\t\t}\n\t});\n});\n\n","// Hero: trending film getir ve öne çıkan bir kahraman oluştur (mobil öncelikli)\nconst HERO_API_KEY = 'YOUR_API_KEY'; // <-- Değiştir TMDB API anahtarıyla\nconst HERO_BASE = 'https://api.themoviedb.org/3';\n\nfunction pickRandom(arr) {\n\treturn arr[Math.floor(Math.random() * arr.length)];\n}\n\nasync function fetchTrending() {\n\tif (!HERO_API_KEY || HERO_API_KEY === 'YOUR_API_KEY') {\n\t\tconsole.warn('TMDB API key not set in hero.js — hero will use default content.');\n\t\treturn null;\n\t}\n\n\tconst url = `${HERO_BASE}/trending/movie/day?api_key=${HERO_API_KEY}`;\n\ttry {\n\t\tconst res = await fetch(url);\n\t\tif (!res.ok) throw new Error('Network response not ok');\n\t\tconst data = await res.json();\n\t\treturn data.results || [];\n\t} catch (err) {\n\t\tconsole.error('Error fetching trending movies', err);\n\t\treturn null;\n\t}\n}\n\nasync function initHero() {\n\tconst heroSection = document.getElementById('hero-section');\n\tif (!heroSection) return;\n\n\tconst titleEl = heroSection.querySelector('.hero-title');\n\tconst descEl = heroSection.querySelector('.hero-description');\n\tconst btn = heroSection.querySelector('#hero-btn');\n\n\tconst results = await fetchTrending();\n\tif (results && results.length > 0) {\n\t\tconst film = pickRandom(results);\n\t\tconst backdrop = film.backdrop_path || film.poster_path;\n\n\t\tfunction applyHeroBackground(path) {\n\t\t\tif (!path) return;\n\t\t\tconst isLight = document.body.classList.contains('light-mode');\n\t\t\t// set CSS vars: --hero-image and --hero-overlay (refers to hero overlay vars)\n\t\t\theroSection.style.setProperty('--hero-image', `url('https://image.tmdb.org/t/p/original${path}')`);\n\t\t\theroSection.style.setProperty('--hero-overlay', isLight ? 'var(--hero-overlay-light)' : 'var(--hero-overlay-dark)');\n\t\t}\n\n\t\tif (backdrop) applyHeroBackground(backdrop);\n\n\t\t// Update overlay when theme changes (observe body class changes)\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tapplyHeroBackground(backdrop);\n\t\t});\n\t\tobserver.observe(document.body, { attributes: true, attributeFilter: ['class'] });\n\n\t\ttitleEl.textContent = film.title || film.name || titleEl.textContent;\n\t\tdescEl.textContent = film.overview ? film.overview.slice(0, 220) + (film.overview.length > 220 ? '...' : '') : descEl.textContent;\n\n\t\t// Detaylar için özel olay yayını — diğer modüller (modal) dinleyebilir ve ayrıntıları gösterebilir\n\t\tbtn.addEventListener('click', () => {\n\t\t\tconst evt = new CustomEvent('heroMoreDetails', { detail: film });\n\t\t\twindow.dispatchEvent(evt);\n\t\t});\n\t} else {\n\t\t// fallback: API anahtarı yok veya sonuç yok — varsayılan kahramanı koru\n\t\tbtn.addEventListener('click', () => {\n\t\t\twindow.location.href = './catalog.html';\n\t\t});\n\t}\n}\n\ndocument.addEventListener('DOMContentLoaded', initHero);\n"],"names":["toggleSwitch","currentTheme","switchTheme","e","menuBtn","mobileMenu","overlayEl","createOverlay","closeMenu","removeOverlay","openMenu","link","pickRandom","arr","fetchTrending","initHero","heroSection","titleEl","descEl","btn","results","applyHeroBackground","path","isLight","film","backdrop","evt"],"mappings":"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"}