{"version":3,"file":"index.js","sources":["../src/js/components/footer.js","../src/js/utils/theme-toggle.js","../src/js/components/header.js","../src/js/api/api-service.js","../src/js/components/hero.js"],"sourcesContent":["const openBtn = document.getElementById('openTeamModal');\nconst closeBtn = document.getElementById('closeTeamModal');\nconst modal = document.getElementById('teamModal');\n\nopenBtn.addEventListener('click', () => {\n  modal.style.display = 'flex';\n});\n\ncloseBtn.addEventListener('click', () => {\n  modal.style.display = 'none';\n});\n\nmodal.addEventListener('click', (e) => {\n  if (e.target === modal) {\n    modal.style.display = 'none';\n  }\n});\n","// Theme toggle: safe initialization and guard for missing element\ndocument.addEventListener('DOMContentLoaded', () => {\n    const toggleSwitch = document.querySelector('#checkbox');\n    const currentTheme = localStorage.getItem('theme');\n\n    if (currentTheme === 'light') {\n        document.body.classList.add('light-mode');\n    } else {\n        document.body.classList.remove('light-mode');\n    }\n\n    if (!toggleSwitch) return; // nothing to bind\n\n    // Set initial checkbox state\n    toggleSwitch.checked = currentTheme === 'light';\n\n    function switchTheme(e) {\n        if (e.target.checked) {\n            document.body.classList.add('light-mode');\n            localStorage.setItem('theme', 'light');\n        } else {\n            document.body.classList.remove('light-mode');\n            localStorage.setItem('theme', 'dark');\n        }\n    }\n\n    toggleSwitch.addEventListener('change', switchTheme, false);\n});","// Mobil menü açma/kapatma işlevselliği\ndocument.addEventListener('DOMContentLoaded', () => {\n\tconst menuBtn = document.querySelector('.menu-open-btn');\n\tconst mobileMenu = document.querySelector('.mobile-menu');\n\n\tif (!menuBtn || !mobileMenu) return;\n\n\tmenuBtn.setAttribute('aria-expanded', 'false');\n\n\tlet overlayEl = null;\n\n\tfunction createOverlay() {\n\t\tif (overlayEl) return;\n\t\toverlayEl = document.createElement('div');\n\t\toverlayEl.className = 'mobile-menu-overlay';\n\t\toverlayEl.addEventListener('click', closeMenu);\n\t\tdocument.body.appendChild(overlayEl);\n\t}\n\n\tfunction removeOverlay() {\n\t\tif (!overlayEl) return;\n\t\toverlayEl.removeEventListener('click', closeMenu);\n\t\tdocument.body.removeChild(overlayEl);\n\t\toverlayEl = null;\n\t}\n\n\tfunction openMenu() {\n\t\tmobileMenu.classList.add('open');\n\t\tmenuBtn.setAttribute('aria-expanded', 'true');\n\t\tcreateOverlay();\n\t\tdocument.body.style.overflow = 'hidden';\n\t}\n\n\tfunction closeMenu() {\n\t\tmobileMenu.classList.remove('open');\n\t\tmenuBtn.setAttribute('aria-expanded', 'false');\n\t\tremoveOverlay();\n\t\tdocument.body.style.overflow = '';\n\t}\n\n\tmenuBtn.addEventListener('click', () => {\n\t\tif (mobileMenu.classList.contains('open')) closeMenu();\n\t\telse openMenu();\n\t});\n\n\t// Kullanıcı mobil menüde bir gezinme bağlantısına tıkladığında kapat\n\tconst navLinks = mobileMenu.querySelectorAll('.nav-link');\n\tnavLinks.forEach(link => {\n\t\tlink.addEventListener('click', () => {\n\t\t\t// Belirli bir süre sonra kapatma için küçük bir zaman aşımı\n\t\t\tsetTimeout(closeMenu, 50);\n\t\t});\n\t});\n\n\t// ESC tuşuna basıldığında menüyü kapat\n\tdocument.addEventListener('keydown', (e) => {\n\t\tif (e.key === 'Escape' && mobileMenu.classList.contains('open')) {\n\t\t\tcloseMenu();\n\t\t}\n\t});\n});\n\n","import axios from 'axios';\n\n// API Ayarları\nconst API_KEY = '98ff2d6267ceea8e039422b0f46fb813';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\n// Merkezi Axios Yapılandırması\nconst api = axios.create({\n  baseURL: BASE_URL,\n  params: {\n    api_key: API_KEY,\n    language: 'en-US', // Varsayılan dil\n  },\n});\n\n/**\n * Günlük veya Haftalık Trend Filmleri Getirir\n * @param {string} period - 'day' veya 'week' (Varsayılan: 'day')\n * @returns {Promise<Array>} Film listesi\n */\nexport const getTrending = async (period = 'day') => {\n  try {\n    const { data } = await api.get(`/trending/movie/${period}`);\n    return data.results; //\n  } catch (error) {\n    console.error(`Trend filmler (${period}) alınamadı:`, error);\n    throw error;\n  }\n};\n\n/**\n * Anahtar kelime ve yıla göre film araması yapar (Katalog Sayfası için)\n * @param {string} query - Arama terimi\n * @param {number} page - Sayfa numarası\n * @param {string} year - Yayın yılı (Opsiyonel)\n */\nexport const searchMovies = async (query, page = 1, year = '') => {\n  try {\n    const { data } = await api.get('/search/movie', {\n      params: { query, page, year },\n    });\n    return data; // Sayfalama (pagination) için tüm objeyi döndürüyoruz\n  } catch (error) {\n    console.error('Film araması başarısız:', error);\n    throw error;\n  }\n};\n\n/**\n * Film detaylarını getirir (Modal penceresi için)\n * @param {number} movieId - Filmin ID'si\n */\nexport const getMovieDetails = async (movieId) => {\n  try {\n    const { data } = await api.get(`/movie/${movieId}`);\n    return data; //\n  } catch (error) {\n    console.error('Film detayları alınamadı:', error);\n    throw error;\n  }\n};\n\n/**\n * Filmin videolarını (Fragman/Trailer) getirir\n * @param {number} movieId - Filmin ID'si\n */\nexport const getMovieVideos = async (movieId) => {\n  try {\n    const { data } = await api.get(`/movie/${movieId}/videos`);\n    // Genellikle 'YouTube' ve 'Trailer' olan ilk videoyu seçmek için filtreleme yapıyoruz\n    return data.results.filter(video => video.site === 'YouTube' && video.type === 'Trailer'); //\n  } catch (error) {\n    console.error('Film fragmanı bulunamadı:', error);\n    throw error;\n  }\n};\n\n/**\n * Gelecek (Upcoming) filmleri getirir\n * @param {number} page - Sayfa numarası\n */\nexport const getUpcoming = async (page = 1) => {\n  try {\n    const { data } = await api.get('/movie/upcoming', { params: { page } });\n    return data; //\n  } catch (error) {\n    console.error('Gelecek filmler alınamadı:', error);\n    throw error;\n  }\n};\n\n/**\n * Tüm film türlerini (Genres) getirir (Filtreleme için)\n */\nexport const getGenres = async () => {\n  try {\n    const { data } = await api.get('/genre/movie/list');\n    return data.genres; //\n  } catch (error) {\n    console.error('Tür listesi alınamadı:', error);\n    throw error;\n  }\n};\n\nexport default {\n  getTrending,\n  searchMovies,\n  getMovieDetails,\n  getMovieVideos,\n  getUpcoming,\n  getGenres,\n};","import { getTrending } from '../api/api-service';\n\nfunction pickRandom(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport async function initHero() {\n  const heroSection = document.getElementById('hero-section');\n  if (!heroSection) return;\n\n  try {\n    const movies = await getTrending('day');\n\n    if (movies && movies.length > 0) {\n      const film = pickRandom(movies);\n      // render using the helper that handles background and responsive quality\n      renderHeroContent(heroSection, film);\n    } else {\n      // fallback: render default hero content (uses local defaults)\n      renderDefaultHero(heroSection);\n    }\n  } catch (err) {\n    console.error('Hero yüklenirken hata:', err);\n    renderDefaultHero(heroSection);\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Try to initialize hero when DOM is ready\n  initHero().catch(err => console.error('initHero error:', err));\n});\n\nfunction renderHeroContent(container, film) {\n  const { title, overview, backdrop_path, vote_average, id } = film;\n\n  const updateBg = () => {\n    // Always use a dark left->right overlay so theme toggle doesn't whiten the hero\n    const overlay = 'linear-gradient(90deg, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.65) 20%, rgba(0,0,0,0.0) 60%)';\n    \n    // API Görsel Kalite Seçimi (Responsive)\n    let quality = 'w780'; // Mobile için orta kalite\n    if (window.innerWidth >= 1280) quality = 'original'; // Desktop için en yüksek\n    else if (window.innerWidth >= 768) quality = 'w1280'; // Tablet için yüksek\n    // If no backdrop_path provided by API, use local fallback images\n    let imageUrl = '';\n    if (backdrop_path) {\n      imageUrl = `https://image.tmdb.org/t/p/${quality}${backdrop_path}`;\n    } else {\n      // local fallbacks (bundler-safe)\n      const fallbacks = ['../../images/background/desktop-1.jpg','../../images/background/desktop-2.jpg','../../images/background/mobile-1.jpg'];\n      const pick = fallbacks[Math.floor(Math.random() * fallbacks.length)];\n      try {\n        imageUrl = new URL(pick, import.meta.url).href;\n      } catch (err) {\n        imageUrl = `/src/images/background/${pick.split('/').pop()}`;\n      }\n    }\n\n    container.style.backgroundImage = `${overlay}, url(${imageUrl})`;\n    container.style.backgroundPosition = 'right center';\n  };\n\n  updateBg();\n\n  // Tema değiştiğinde veya ekran boyutu değiştiğinde arka planı güncelle\n  const observer = new MutationObserver(updateBg);\n  observer.observe(document.body, { attributes: true, attributeFilter: ['class'] });\n  window.addEventListener('resize', updateBg); // Ekran boyutu değişirse kaliteyi tekrar kontrol et\n\n\n  // slice(0, 220) ile açıklamayı kısaltabiliriz\n  container.innerHTML = `\n    <div class=\"container hero-content\">\n      <h1 class=\"hero-title\">${title}</h1>\n      <div class=\"hero-rating\">${vote_average.toFixed(1)}</div> \n      <p class=\"hero-description\">${overview.slice(0, 220)}...</p> \n      <div class=\"hero-btns\">\n        <button type=\"button\" class=\"btn-primary\" id=\"watch-trailer\">Watch trailer</button>\n        <button type=\"button\" class=\"btn-secondary\" id=\"more-details\">More details</button>\n      </div>\n    </div>\n  `;\n\n  // Event Listeners (Burayı koruyoruz)\n  document.getElementById('watch-trailer').addEventListener('click', () => {\n    window.dispatchEvent(new CustomEvent('openTrailerModal', { detail: { movieId: id } }));\n  });\n\n  document.getElementById('more-details').addEventListener('click', () => {\n    window.dispatchEvent(new CustomEvent('openDetailsModal', { detail: { movie: film } }));\n  });\n}\n\nfunction renderDefaultHero(container) {\n  container.classList.add('hero-default');\n  container.innerHTML = `\n    <div class=\"container hero-content\">\n      <h1 class=\"hero-title\">Let’s Make Your Own Cinema</h1>\n      <p class=\"hero-description\">Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers. </p>\n      <button type=\"button\" class=\"btn-primary\" id=\"go-catalog\">Get Started</button>\n    </div>\n  `;\n  // Set a fallback background image (bundler-safe)\n  const fallbacks = ['../../images/background/desktop-1.jpg','../../images/background/desktop-2.jpg','../../images/background/mobile-1.jpg'];\n  const pick = fallbacks[Math.floor(Math.random() * fallbacks.length)];\n  let imageUrl;\n  try {\n    imageUrl = new URL(pick, import.meta.url).href;\n  } catch (err) {\n    imageUrl = `/src/images/background/${pick.split('/').pop()}`;\n  }\n\n  const overlay = 'linear-gradient(90deg, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.65) 20%, rgba(0,0,0,0.0) 60%)';\n  container.style.backgroundImage = `${overlay}, url(${imageUrl})`;\n  container.style.backgroundPosition = 'right center';\n\n  document.getElementById('go-catalog').addEventListener('click', () => {\n    window.location.href = './catalog.html';\n  });\n}"],"names":["openBtn","closeBtn","modal","toggleSwitch","currentTheme","switchTheme","e","menuBtn","mobileMenu","overlayEl","createOverlay","closeMenu","removeOverlay","openMenu","link","API_KEY","BASE_URL","api","axios","getTrending","period","data","error","pickRandom","arr","initHero","heroSection","movies","film","renderHeroContent","renderDefaultHero","err","container","title","overview","backdrop_path","vote_average","id","updateBg","overlay","quality","imageUrl","fallbacks","pick"],"mappings":"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"}