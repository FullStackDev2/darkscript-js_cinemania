{"version":3,"file":"main-D1iEEXqQ.js","sources":["../../src/js/utils/theme-toggle.js","../../src/js/components/mainbody.js","../../src/js/library_mainbody.js","../../src/js/components/pagination.js","../../src/js/catalog_list.js","../../src/js/catalog_mainbody.js","../../src/js/components/scrollup.js","../../src/js/components/footer.js","../../src/js/components/trailer_popup.js","../../src/js/utils/loader.js","../../src/js/components/header.js","../../src/js/api/api-service.js","../../src/js/components/hero.js","../../src/js/utils/local-storage.js","../../src/js/components/modal.js","../../src/js/main.js"],"sourcesContent":["export function initTheme() {\n  const themeSwitch = document.querySelector('#checkbox');\n  const savedTheme = localStorage.getItem('theme') || 'dark';\n\n  // Body'ye temayÄ± hemen uygula (Switch'i bekleme)\n  if (savedTheme === 'light') {\n    document.body.classList.add('light-theme');\n  } else {\n    document.body.classList.remove('light-theme');\n  }\n\n  // EÄŸer switch henÃ¼z DOM'da yoksa (Header yÃ¼klenmemiÅŸ olabilir)\n  if (!themeSwitch) {\n    // 100ms sonra tekrar kontrol et (Header yÃ¼klenmesi iÃ§in zaman tanÄ±)\n    setTimeout(initTheme, 100);\n    return;\n  }\n\n  themeSwitch.checked = (savedTheme === 'light');\n\n  // Olay dinleyiciyi sadece bir kez ekle\n  if (!themeSwitch.dataset.listenerAdded) {\n    themeSwitch.addEventListener('change', () => {\n      if (themeSwitch.checked) {\n        document.body.classList.add('light-theme');\n        localStorage.setItem('theme', 'light');\n      } else {\n        document.body.classList.remove('light-theme');\n        localStorage.setItem('theme', 'dark');\n      }\n    });\n    themeSwitch.dataset.listenerAdded = 'true';\n  }\n}","// ======================\n// API\n// ======================\nexport const API_KEY = \"98ff2d6267ceea8e039422b0f46fb813\";\nexport const BASE_URL = \"https://api.themoviedb.org/3\";\nexport const IMAGE_BASE = \"https://image.tmdb.org/t/p/w500\";\n\n// ======================\n// STAR RENDER\n// ======================\nexport function renderStarsToRating(el, rating) {\n  if (!el) return;\n  el.innerHTML = \"\";\n\n  const fullStars = Math.floor(rating / 2);\n  const hasHalfStar = rating % 2 >= 1;\n\n  for (let i = 0; i < 5; i++) {\n    let fillType = \"empty\";\n    if (i < fullStars) fillType = \"full\";\n    else if (i === fullStars && hasHalfStar) fillType = \"half\";\n\n    const gid = `star-${Math.random().toString(36).slice(2)}`;\n\n    el.innerHTML += `\n      <svg viewBox=\"0 0 32 32\" width=\"14\" height=\"14\">\n        <defs>\n          <linearGradient id=\"${gid}-full\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n            <stop offset=\"0%\" stop-color=\"#F84119\"/>\n            <stop offset=\"100%\" stop-color=\"#F89F19\"/>\n          </linearGradient>\n          <linearGradient id=\"${gid}-half\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"0\">\n            <stop offset=\"0%\" stop-color=\"#F84119\"/>\n            <stop offset=\"50%\" stop-color=\"#F89F19\"/>\n            <stop offset=\"50%\" stop-color=\"#bfbfbf\"/>\n            <stop offset=\"100%\" stop-color=\"#bfbfbf\"/>\n          </linearGradient>\n        </defs>\n        <path\n          d=\"M24.622 30L16 24.173 7.378 30l3.135-9.286L2.388 15.14h10.024L16 5.827l3.588 9.313h10.024l-8.125 5.569z\"\n          fill=\"${\n            fillType === \"full\"\n              ? `url(#${gid}-full)`\n              : fillType === \"half\"\n              ? `url(#${gid}-half)`\n              : \"#bfbfbf\"\n          }\"\n        />\n      </svg>\n    `;\n  }\n}\n\n// ======================\n// LIBRARY\n// ======================\nexport function getFavorites() {\n  return JSON.parse(localStorage.getItem(\"favorites\")) || [];\n}\n\nexport function isFavorite(id) {\n  return getFavorites().some(m => m.id === id);\n}\n\nexport function toggleFavorite(movie) {\n  const favs = JSON.parse(localStorage.getItem(\"favorites\")) || [];\n\n  if (favs.some(m => m.id === movie.id)) {\n    localStorage.setItem(\n      \"favorites\",\n      JSON.stringify(favs.filter(m => m.id !== movie.id))\n    );\n    return;\n  }\n\n  const genre_ids = Array.isArray(movie.genre_ids)\n    ? movie.genre_ids\n    : Array.isArray(movie.genres)\n    ? movie.genres.map(g => g.id)\n    : [];\n\n  favs.push({\n    id: movie.id,\n    title: movie.title,\n    poster_path: movie.poster_path,\n    vote_average: movie.vote_average,\n    release_date: movie.release_date,\n    genre_ids\n  });\n\n  localStorage.setItem(\"favorites\", JSON.stringify(favs));\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import {\n  IMAGE_BASE,\n  renderStarsToRating,\n  getFavorites\n} from \"./components/mainbody.js\";\n\n\nexport function initLibrary() {\n\n  const movieList = document.getElementById(\"movieList\");\n  const emptySection = document.getElementById(\"emptySection\");\n  const loadMoreBtn = document.getElementById(\"loadMoreBtn\");\n  const genreWrapper = document.querySelector(\".genre-wrapper\");\n  const genreDropdown = document.getElementById(\"genreDropdown\");\n  const genreBtn = document.getElementById(\"genreBtn\");\n  const genreIcon = document.getElementById(\"genreIcon\");\n  const searchMovieBtn = document.querySelector(\".search-button\");\n\n\n  function isDesktop() {\n  return window.innerWidth >= 1280;\n}\n\n  function isTablet() {\n    return window.innerWidth >= 768 && window.innerWidth < 1024;\n    \n  }\n  \n\n  let visibleCount = 0;\n  let selectedGenreId = null;\n  // ðŸ”’ DOM GUARD\n  if (!movieList || !emptySection || !loadMoreBtn) {\n    console.warn(\"Library DOM bulunamadÄ±, initLibrary Ã§alÄ±ÅŸmadÄ±\");\n    return;\n  }\n\n  // â¬‡ï¸ DÄ±ÅŸarÄ± tÄ±klayÄ±nca dropdown kapansÄ±n\n  document.addEventListener(\"click\", function () {\n  if (!genreDropdown) return;\n  if (!genreDropdown.classList.contains(\"active\")) return;\n\n  genreDropdown.classList.remove(\"active\");\n  genreBtn.classList.remove(\"open\");\n    \n  if (genreIcon) {\n    genreIcon.classList.remove(\"rotate\");\n  }\n});\n\n  if (genreBtn && genreDropdown) {\n  genreBtn.addEventListener(\"click\", function (e) {\n    e.stopPropagation();\n\n    genreDropdown.classList.toggle(\"active\");\n    genreBtn.classList.toggle(\"open\");\n\n    if (genreIcon) {\n      genreIcon.classList.toggle(\"rotate\");\n    }\n  });\n}\n\n  if (searchMovieBtn) {\n    searchMovieBtn.addEventListener(\"click\", () => {\n      window.location.href = \"/catalog.html\";\n    });\n  }\n\n  if (genreDropdown) {\n  genreDropdown.addEventListener(\"click\", function (e) {\n    e.stopPropagation();\n\n    const li = e.target.closest(\"li\");\n    if (!li) return;\n\n    selectedGenreId = li.dataset.genreId\n      ? Number(li.dataset.genreId)\n      : null;\n\n    const genreTextEl = genreBtn.querySelector(\".genre-text\");\n\nif (genreTextEl) {\n  if (li.dataset.genreId) {\n    genreTextEl.textContent = li.textContent;\n  } else {\n    genreTextEl.textContent = \"Genre\";\n  }\n}\n    genreDropdown.classList.remove(\"active\");\n    genreBtn.classList.remove(\"open\");\n    \n    if (genreIcon) {\n      genreIcon.classList.remove(\"rotate\");\n    }\n    visibleCount = 6;\n    renderLibrary();\n  });\n}\n  \n  function isDesktop() {\n  return window.innerWidth >= 1280;\n}\n\nfunction isDesktop() {\n  return window.innerWidth >= 1280;\n}\n\nfunction getInitialVisibleCount() {\n  if (isDesktop()) {\n    return 9;\n  }\n\n  if (isTablet()) {\n    return selectedGenreId !== null ? 6 : 9;\n  }\n\n  return 9; // mobile\n}\n  \n  if (searchMovieBtn) {\n    searchMovieBtn.addEventListener(\"click\", () => {\n      // ðŸ”¥ Catalogâ€™a scroll yapÄ±lacaÄŸÄ±nÄ± sÃ¶yle\n      sessionStorage.setItem(\"scrollCatalog\", \"true\");\n\n      window.location.href = \"./catalog.html\";\n    });\n  }\n\n  visibleCount = getInitialVisibleCount();\nrenderLibrary();\n\n  window.addEventListener(\"resize\", () => {\n  const newCount = getInitialVisibleCount();\n  if (newCount !== visibleCount) {\n    visibleCount = newCount;\n    renderLibrary();\n  }\n});\n\n  function renderLibrary() {\n  const favorites = getFavorites();\n\n  let filteredFavorites = favorites;\n\n  if (selectedGenreId !== null) {\n    const byGenre = favorites.filter(movie =>\n      Array.isArray(movie.genres) &&\n      movie.genres.some(g => g.id === selectedGenreId)\n    );\n\n    if (byGenre.length > 0) {\n      filteredFavorites = byGenre;\n    }\n  }\n\n  movieList.innerHTML = \"\";\n\n  if (selectedGenreId !== null) {\n    filteredFavorites = favorites.filter(movie =>\n      Array.isArray(movie.genres) &&\n      movie.genres.some(g => g.id === selectedGenreId)\n    );\n  }\n\n  /* ðŸ”¥ EK: TÃ¼r seÃ§ili ama film yoksa â†’ OOPS + Search gelsin */\n  if (selectedGenreId !== null && filteredFavorites.length === 0) {\n    emptySection.classList.remove(\"hidden\");\n    loadMoreBtn.classList.add(\"hidden\");\n\n    if (genreWrapper) {\n      genreWrapper.classList.remove(\"genre-hidden\");\n    }\n    return;\n  }\n  /* ðŸ”¥ EK BÄ°TTÄ° */\n\n  if (favorites.length === 0) {\n    emptySection.classList.remove(\"hidden\");\n    loadMoreBtn.classList.add(\"hidden\");\n\n    if (genreWrapper) {\n      genreWrapper.classList.add(\"genre-hidden\");\n    }\n    return;\n  }\n\n  if (genreWrapper) {\n    genreWrapper.classList.remove(\"genre-hidden\");\n  }\n\n  emptySection.classList.add(\"hidden\");\n\n  renderMovies(filteredFavorites.slice(0, visibleCount));\n\n  loadMoreBtn.classList.toggle(\n    \"hidden\",\n    visibleCount === Infinity || visibleCount >= filteredFavorites.length\n  );\n}\n\n  window.addEventListener(\"resize\", () => {\n  const newCount = getInitialVisibleCount();\n\n  if (newCount !== visibleCount) {\n    visibleCount = newCount;\n    renderLibrary();\n  }\n});\n\nloadMoreBtn.addEventListener(\"click\", () => {\n  visibleCount += 3;\n  renderLibrary();\n});\n\n\n\n  function renderMovies(movies) {\n  movieList.innerHTML = \"\";\n\n  movies.forEach(movie => {\n    if (!movie.poster_path) return;\n\n    const poster = `${IMAGE_BASE}${movie.poster_path}`;\n    const year = movie.release_date?.slice(0, 4) || \"N/A\";\n\n    const genres = Array.isArray(movie.genres)\n      ? movie.genres.map(g => g.name).slice(0, 2).join(\", \")\n      : \"Unknown\";\n\n    const card = document.createElement(\"a\");\n    card.className = \"movie-card\";\n    card.setAttribute(\"data-id\", movie.id);\n    card.href = `catalog_mainbody.html?id=${movie.id}`;\n\n    card.innerHTML = `\n      <img src=\"${poster}\" alt=\"${movie.title}\">\n      <div class=\"movie-card-overlay\">\n        <div class=\"movie-card-text\">\n          <h3>${movie.title}</h3>\n          <p class=\"movie-meta\">\n          <span class=\"movie-genres\">${genres}</span>\n          <span class=\"movie-year\">| ${year}</span>\n          </p>\n        </div>\n        <div class=\"movie-rating-stars\"></div>\n      </div>\n    `;\n\n    movieList.appendChild(card);\n\n    renderStarsToRating(\n      card.querySelector(\".movie-rating-stars\"),\n      movie.vote_average || 0\n    );\n  });\n}\n}\n","export class Pagination {\n  // ðŸ‘‡ currentPage = 1 parametresini buraya yazdÄ±ÄŸÄ±ndan EMÄ°N OL\n  constructor({ containerId, totalItems, itemsPerPage, onPageChange, currentPage = 1 }) {\n    this.container = document.getElementById(containerId);\n    this.totalItems = totalItems;\n    this.itemsPerPage = itemsPerPage;\n    \n    // ðŸ‘‡ BU SATIR EKSÄ°KSE Ã‡ALIÅžMAZ! \n    // DÄ±ÅŸarÄ±dan gelen sayfa numarasÄ±nÄ± hafÄ±zaya alÄ±yoruz.\n    this.currentPage = currentPage; \n    \n    this.totalPages = Math.ceil(this.totalItems / this.itemsPerPage);\n    this.onPageChange = onPageChange;\n    this.render();\n  }\n\n  pad(num) {\n    return String(num).padStart(2, '0');\n  }\n\n  goToPage(page) {\n    if (page < 1 || page > this.totalPages || page === this.currentPage) return;\n    this.currentPage = page;\n    this.render();\n    if (this.onPageChange) this.onPageChange(this.currentPage);\n  }\n\n  render() {\n    if (this.totalPages <= 1) {\n      this.container.innerHTML = '';\n      return;\n    }\n    \n    // Ã–nceki (<) butonu\n    let html = `<button class=\"pagination-btn pagination-arrow prev-btn\" ${this.currentPage === 1 ? 'disabled' : ''}>\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12.6666 8H3.33325\" stroke=\"currentColor\" stroke-width=\"1.33333\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        <path d=\"M7.99992 12.6667L3.33325 8.00004L7.99992 3.33337\" stroke=\"currentColor\" stroke-width=\"1.33333\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n      </svg>\n    </button>`;\n    \n    const range = this.getPaginationRange();\n\n    range.forEach(item => {\n      if (item === '...') {\n        html += `<span class=\"pagination-dots\">...</span>`;\n      } else {\n        const isActive = item === this.currentPage ? 'active' : '';\n        html += `<button class=\"pagination-btn pagination-number ${isActive}\" data-page=\"${item}\">${this.pad(item)}</button>`;\n      }\n    });\n\n    // Sonraki (>) butonu\n    html += `<button class=\"pagination-btn pagination-arrow next-btn\" ${this.currentPage === this.totalPages ? 'disabled' : ''}>\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M3.33341 8H12.6667\" stroke=\"currentColor\" stroke-width=\"1.33333\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        <path d=\"M8.00008 12.6667L12.6667 8.00004L8.00008 3.33337\" stroke=\"currentColor\" stroke-width=\"1.33333\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n      </svg>\n    </button>`;\n    \n    this.container.innerHTML = html;\n    this.addEventListeners();\n  }\n\n  getPaginationRange() {\n    const total = this.totalPages;\n    const current = this.currentPage;\n    const range = [];\n    const visibleCount = 3; \n    let start = current - 1;\n    let end = current + 1;\n\n    if (start < 1) {\n      start = 1;\n      end = Math.min(visibleCount, total);\n    }\n    if (end > total) {\n      end = total;\n      start = Math.max(1, total - visibleCount + 1);\n    }\n\n    if (start > 1) range.push('...');\n    for (let i = start; i <= end; i++) range.push(i);\n    if (end < total) range.push('...');\n\n    return range;\n  }\n\n  addEventListeners() {\n    this.container.querySelectorAll('.pagination-number').forEach(btn => {\n      btn.addEventListener('click', () => this.goToPage(parseInt(btn.dataset.page)));\n    });\n    const prev = this.container.querySelector('.prev-btn');\n    const next = this.container.querySelector('.next-btn');\n    if (prev) prev.addEventListener('click', () => this.goToPage(this.currentPage - 1));\n    if (next) next.addEventListener('click', () => this.goToPage(this.currentPage + 1));\n  }\n}","import { Pagination } from './components/pagination.js';\nimport {\n  IMAGE_BASE,\n  renderStarsToRating\n} from \"./components/mainbody.js\";\n\n\nexport function initCatalog() {\n  // ======================\n  // STATE\n  // ======================\n  let selectedYearValue = '';\n  let currentQuery = '';\n  let selectedCountryCode = '';\n  let hasSearched = false;\n  let genreMap = {};\n\n  let currentPage = 1;\n  let currentMode = 'trending';\n\n  const COUNTRY_MAP = {\n    'United States': 'US',\n    Germany: 'DE',\n    France: 'FR',\n    Italy: 'IT',\n    Spain: 'ES',\n    'United Kingdom': 'GB',\n    Japan: 'JP',\n    Belgium: 'BE',\n  };\n\n  // ======================\n  // API\n  // ======================\n  const API_KEY = '98ff2d6267ceea8e039422b0f46fb813';\n  const BASE_URL = 'https://api.themoviedb.org/3';\n\n  // ======================\n  // DOM\n  // ======================\n  const moviesContainer = document.getElementById('moviesContainer');\n  const emptyMessage = document.getElementById('emptyMessage');\n\n  const filmInput = document.querySelector('.search-input');\n  const clearBtn = document.getElementById('clearSearch');\n  const searchBtn = document.querySelector('.search-btn');\n\n  const yearBtn = document.getElementById('yearBtn');\n  const yearDropdown = document.getElementById('yearDropdown');\n  const selectedYear = document.getElementById('selectedYear');\n\n  const countrySelect = document.getElementById('countrySelect');\n  const countryInput = countrySelect?.querySelector('.search-input1');\n  const countryList = countrySelect?.querySelector('.country-list');\n  const countryBtn = countrySelect.querySelector(\".country-btn\");\n\n\n  if (sessionStorage.getItem(\"scrollCatalog\") === \"true\") {\n  sessionStorage.removeItem(\"scrollCatalog\");\n\n  // DOM + filmler render olduktan sonra scroll\n   setTimeout(() => {\n    const searchRow = document.querySelector(\".search-row\");\n    if (!searchRow) return;\n\n    const y =\n      searchRow.getBoundingClientRect().top +\n      window.scrollY -\n      20; // kÃ¼Ã§Ã¼k boÅŸluk (istersen 0 yap)\n\n    window.scrollTo({\n      top: y,\n      behavior: \"smooth\",\n    });\n  }, 300);\n}\n  const paginationContainer = document.getElementById('pagination');\n  if (!moviesContainer || !emptyMessage) return;\n\n  const input = document.querySelector(\".search-input\");\nconst parent = input.parentElement;\n\nparent.insertAdjacentHTML(\n  \"beforeend\",\n  `\n  <button class=\"search-clear-btn\">\n    <svg viewBox=\"0 0 32 32\" width=\"14\" height=\"14\">\n      <path\n        d=\"M29.333 29.333l-28-28M29.333 1.333l-28 28\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        stroke-width=\"2.6667\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n    </svg>\n  </button>\n  `\n  );\n  \n  const clearInputBtn = parent.querySelector(\".search-clear-btn\");\n  clearInputBtn.style.display = \"none\";\n  \n  const chevronSVG = `\n  <svg class=\"icon-chevron\" width=\"14\" height=\"14\" viewBox=\"0 0 32 32\" aria-hidden=\"true\">\n  <path\n    d=\"M7 20.5l9-9 9 9\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  />\n</svg>\n`;\n\nyearBtn.insertAdjacentHTML(\"beforeend\", chevronSVG);\n\n  if (searchBtn) {\n  searchBtn.innerHTML = `\n    <svg viewBox=\"0 0 32 32\" width=\"18\" height=\"18\">\n      <path\n        fill=\"none\"\n        stroke=\"currentColor\"\n        stroke-linejoin=\"round\"\n        stroke-linecap=\"round\"\n        stroke-width=\"2.08\"\n        d=\"M14.667 25.333c5.891 0 10.667-4.776 10.667-10.667\n           S20.558 4 14.667 4 4 8.776 4 14.667\n           s4.776 10.666 10.667 10.666M28 28l-5.8-5.8\"\n      />\n    </svg>\n  `;\n  }\n\n  const countryChevronSVG = `\n<svg class=\"country-chevron\" width=\"14\" height=\"14\" viewBox=\"0 0 32 32\" aria-hidden=\"true\">\n  <path\n    d=\"M7 20.5l9-9 9 9\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  />\n</svg>\n`;\n\n// span'den hemen sonra ekle\nconst selectedCountry = document.getElementById(\"selectedCountry\");\nselectedCountry.insertAdjacentHTML(\"afterend\", countryChevronSVG);\n\n  \n    // ======================\n  // 3. PAGINATION KURULUMU\n  // ======================\n  function setupPagination(totalResults, page) {\n   \n    const MAX_PAGES = 24; \n    const itemsPerPage = 20;\n    const maxItems = MAX_PAGES * itemsPerPage; \n\n    \n    const safeTotal = totalResults > maxItems ? maxItems : totalResults;\n\n    // EÄŸer sonuÃ§ yoksa pagination kutusunu temizle\n    if (safeTotal === 0) {\n      paginationContainer.innerHTML = '';\n      return;\n    }\n\n    new Pagination({\n      containerId: 'pagination',\n      totalItems: safeTotal,\n      itemsPerPage: itemsPerPage,\n      currentPage: page,\n\n      onPageChange: newPage => {\n        console.log('Sayfa DeÄŸiÅŸiyor -> Yeni Sayfa:', newPage);\n        currentPage = newPage; // Global state'i gÃ¼ncelle\n\n        // currentMode deÄŸiÅŸkenine gÃ¶re ilgili fonksiyonu Ã§aÄŸÄ±r\n        if (currentMode === 'trending') {\n          fetchTrending(newPage);\n        } else {\n          searchMovies(newPage);\n        }\n\n        // Sayfa baÅŸÄ±na kaydÄ±r (movie-list veya container classÄ±na gÃ¶re)\n        const listSection = document.getElementById('moviesContainer');\n        if (listSection) {\n          // HeaderÄ±n altÄ±nda kalmamasÄ± iÃ§in biraz offset vererek kaydÄ±rma yapÄ±labilir\n          const y =\n            listSection.getBoundingClientRect().top + window.scrollY - 100;\n          window.scrollTo({ top: y, behavior: 'smooth' });\n        }\n      },\n    });\n  }\n  // ======================\n  // GENRES\n  // ======================\n  fetch(`${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=en-US`)\n    .then(r => r.json())\n    .then(d => d.genres.forEach(g => (genreMap[g.id] = g.name)));\n\n  // ======================\n  // STAR RENDER (TEK DOSYA)\n  // ======================\n\n  \n  parent.addEventListener(\"click\", (e) => {\n  const btn = e.target.closest(\".search-clear-btn\");\n  if (!btn) return;\n\n  input.value = \"\";\n  input.focus();\n});\n\n  parent.addEventListener(\"input\", (e) => {\n  if (e.target !== input) return;\n\n  const btn = parent.querySelector(\".search-clear-btn\");\n  if (btn) {\n    btn.style.display = input.value ? \"block\" : \"none\";\n  }\n});\n\n\n  countryBtn.addEventListener(\"click\", (e) => {\n  e.stopPropagation();\n  countrySelect.classList.toggle(\"open\");\n});\n\ncountryList.querySelectorAll(\"li\").forEach(li => {\n  li.addEventListener(\"click\", (e) => {\n    e.stopPropagation();\n\n    const countryName = li.textContent.trim();\n    selectedCountry.textContent = countryName;\n    selectedCountryCode = COUNTRY_MAP[countryName] || \"\";\n\n    countrySelect.classList.remove(\"open\");\n  });\n});\n\ndocument.addEventListener(\"click\", (e) => {\n  if (!countrySelect.contains(e.target)) {\n    countrySelect.classList.remove(\"open\");\n  }\n});\n\n  if (countryList && !countryList.dataset.init) {\n  const li = document.createElement(\"li\");\n  li.textContent = \"Country\";\n  countryList.prepend(li);\n  countryList.dataset.init = \"true\";\n}\n  \n  clearInputBtn.addEventListener(\"click\", () => {\n  filmInput.value = \"\";\n  filmInput.focus();\n  clearInputBtn.style.display = \"none\"; // ðŸ”¥ SADECE BURADA\n});\n\n \ncountrySelect.querySelectorAll(\".country-list li\").forEach(item => {\n  item.addEventListener(\"click\", () => {\n    selectedCountry.textContent = item.textContent;\n    countrySelect.classList.remove(\"open\");\n  });\n});\n\ncountrySelect.querySelectorAll(\".country-list li\").forEach(item => {\n  item.addEventListener(\"click\", () => {\n    const countryName = item.textContent.trim();\n\n    selectedCountry.textContent = countryName;\n    selectedCountryCode = COUNTRY_MAP[countryName] || \"\";\n\n    countrySelect.classList.remove(\"open\");\n\n  });\n});\n  \n  document.addEventListener(\"click\", (e) => {\n  const countrySelect = document.getElementById(\"countrySelect\");\n\n  // TÄ±klanan yer countrySelect'in DIÅžINDA ise\n  if (!countrySelect.contains(e.target)) {\n    countrySelect.classList.remove(\"open\");\n  }\n  });\n\n  \n  \n  // ======================\n  // COUNTRY DROPDOWN\n  // ======================\n  if (countrySelect && countryInput && countryList) {\n    countryInput.readOnly = true;\n\n\n\n    countryList.querySelectorAll('li').forEach(li => {\n      li.addEventListener('click', e => {\n        e.stopPropagation();\n        const name = li.textContent.trim();\n        countryInput.value = name;\n        selectedCountryCode = COUNTRY_MAP[name] || '';\n        countrySelect.classList.add('has-value');\n        countrySelect.classList.remove('open');\n      });\n    });\n  }\n\n\n  // ======================\n  // YEAR DROPDOWN\n  // ======================\n\n  \n  if (yearBtn && yearDropdown) {\n  yearBtn.addEventListener(\"click\", e => {\n    e.stopPropagation();\n\n    const isOpen = yearDropdown.classList.toggle(\"open\");\n    yearBtn.classList.toggle(\"open\", isOpen); // âœ… OK DÃ–NER\n  });\n\n  yearDropdown.addEventListener(\"click\", e => {\n    e.stopPropagation();\n    if (e.target.tagName === \"LI\") {\n      selectedYearValue = e.target.dataset.year || \"\";\n      selectedYear.textContent = e.target.textContent;\n\n      yearDropdown.classList.remove(\"open\");\n      yearBtn.classList.remove(\"open\"); // âœ… OK GERÄ° DÃ–NER\n    }\n  });\n}\n  \n  \n\n// dÄ±ÅŸ tÄ±klama\ndocument.addEventListener(\"click\", e => {\n  if (!yearDropdown.classList.contains(\"open\")) return;\n\n  if (!yearDropdown.contains(e.target) && !yearBtn.contains(e.target)) {\n    yearDropdown.classList.remove(\"open\");\n    yearBtn.classList.remove(\"open\"); // ðŸ”¥ OK RESET\n  }\n});\n\n\n  // ======================\n  // SEARCH\n  // ======================\n  searchBtn.addEventListener('click', () => {\n    currentQuery = filmInput.value.trim();\n    hasSearched = true;\n\n    if (!currentQuery && !selectedYearValue && !selectedCountryCode) {\n      hasSearched = false;\n      fetchTrending();\n      return;\n    }\n    searchMovies();\n  });\n\n  // ======================\n  // CLEAR\n  // ======================\n  if (clearBtn) {\n  clearBtn.addEventListener(\"click\", function () {\n    filmInput.value = \"\";\n\n    if (countryInput) {\n      countryInput.value = \"\";\n    }\n\n    selectedYear.textContent = \"Year\";\n\n    currentQuery = \"\";\n    selectedYearValue = \"\";\n    selectedCountryCode = \"\";\n    hasSearched = false;\n\n    if (countrySelect) {\n      countrySelect.classList.remove(\"has-value\");\n    }\n\n    fetchTrending();\n  });\n}\n\n// SEARCH LOGIC\n// ======================\nfunction searchMovies(page = 1) {\n  let url = `${BASE_URL}/discover/movie?api_key=${API_KEY}&page=${page}`;\n\n  if (currentQuery) {\n    url += `&with_text_query=${encodeURIComponent(currentQuery)}`;\n  }\n\n  if (selectedYearValue) {\n    url += `&primary_release_year=${selectedYearValue}`;\n  }\n\n  if (selectedCountryCode) {\n    url += `&with_origin_country=${selectedCountryCode}`;\n  }\n\n  fetch(url)\n    .then(r => r.json())\n    .then(d => {\n      renderMovies(d.results || []);\n      setupPagination(d.total_results, page);\n    });\n}\n\n\n  // ======================\n  // TRENDING\n  // ======================\n  fetchTrending(1);\n\n  function fetchTrending(page = 1) {\n    emptyMessage.style.display = 'none';\n    currentMode = 'trending';\n    fetch(`${BASE_URL}/trending/movie/week?api_key=${API_KEY}&page=${page}`)\n      .then(r => r.json())\n      .then(d => {\n      renderMovies(d.results || []);\n      setupPagination(d.total_results, page);\n    });\n  }\n\n  // ======================\n  // RENDER\n  // ======================\n  function renderMovies(movies) {\n    moviesContainer.innerHTML = '';\n\n    if (!movies.length) {\n      emptyMessage.style.display = hasSearched ? 'block' : 'none';\n      return;\n    }\n\n    emptyMessage.style.display = 'none';\n\n    movies.slice(0, 20).forEach(movie => {\n      const card = document.createElement('a');\n      card.className = 'movie-card';\n      card.setAttribute('data-id', movie.id);\n      card.href = `catalog_mainbody.html?id=${movie.id}`;\n\n      const poster = movie.poster_path\n        ? `${IMAGE_BASE}${movie.poster_path}`\n        : 'https://via.placeholder.com/300x450';\n\n      const year = movie.release_date?.slice(0, 4) || 'N/A';\n      const genres =\n        movie.genre_ids\n          ?.map(id => genreMap[id])\n          .filter(Boolean)\n          .slice(0, 2)\n          .join(', ') || 'Unknown';\n\n      card.innerHTML = `\n        <img src=\"${poster}\">\n        <div class=\"movie-card-overlay\">\n          <div class=\"movie-card-text\">\n            <h3>${movie.title}</h3>\n            <div class=\"movie-meta\">\n        <span class=\"movie-genre\">${genres}</span>\n        <span class=\"movie-year\">| ${year}</span>\n      </div>\n    </div>\n          <div class=\"movie-rating-stars\"></div>\n        </div>\n      `;\n\n      moviesContainer.appendChild(card);\n\n      renderStarsToRating(\n        card.querySelector('.movie-rating-stars'),\n        movie.vote_average\n      );\n    });\n  }\n}\n","import {\n  API_KEY,\n  BASE_URL,\n  IMAGE_BASE,\n  renderStarsToRating,\n  isFavorite,\n  toggleFavorite\n} from \"./components/mainbody.js\";\n\nexport function initCatalogHome() {\n  const GENRES = {\n    28: \"Action\",\n    12: \"Adventure\",\n    16: \"Animation\",\n    35: \"Comedy\",\n    80: \"Crime\",\n    18: \"Drama\",\n    10751: \"Family\",\n    14: \"Fantasy\",\n    27: \"Horror\",\n    9648: \"Mystery\",\n    878: \"Sci-Fi\",\n    53: \"Thriller\",\n    10749: \"Romance\"\n  };\n\n  const IMAGE_HERO = \"https://image.tmdb.org/t/p/original\";\n\n  // ðŸ”’ DOM GUARD (bu sayfa deÄŸilse Ã§alÄ±ÅŸmaz)\n  if (!document.getElementById(\"weeklyTrends\") &&\n    !document.getElementById(\"heroBackdrop\")) {\n    console.warn(\"CatalogHome DOM yok, initCatalogHome Ã§alÄ±ÅŸmadÄ±\");\n    return;\n  }\n\n \n\n  // ======================\n  // WEEKLY TRENDS\n  // ======================\n  let weeklyCache = [];\n\nfunction fetchWeeklyTrends() {\n  fetch(`${BASE_URL}/trending/movie/week?api_key=${API_KEY}`)\n    .then(r => r.json())\n    .then(d => {\n      weeklyCache = d.results || [];\n      renderWeeklyTrends(weeklyCache);\n    });\n}\n  let lastWeeklyLimit = getWeeklyLimit();\n\nwindow.addEventListener(\"resize\", () => {\n  const currentLimit = getWeeklyLimit();\n\n  // ðŸ”¥ limit deÄŸiÅŸtiyse yeniden render et\n  if (currentLimit !== lastWeeklyLimit) {\n    lastWeeklyLimit = currentLimit;\n    renderWeeklyTrends(weeklyCache);\n  }\n});\n  \n  function getWeeklyLimit() {\n  return window.matchMedia(\"(min-width: 768px)\").matches ? 3 : 1;\n}\n  \n  function renderWeeklyTrends(movies) {\n  const container = document.getElementById(\"weeklyTrends\");\n  if (!container) return;\n\n  container.innerHTML = \"\";\n\n\n  const shuffled = [...movies].sort(() => Math.random() - 0.5);\n\n  shuffled\n    .slice(0, getWeeklyLimit())\n    .forEach(movie => {\n\n      const genres = movie.genre_ids\n        .map(id => GENRES[id])\n        .filter(Boolean)\n        .slice(0, 2)\n        .join(\", \");\n\n      const poster = movie.poster_path\n        ? IMAGE_BASE + movie.poster_path\n        : \"./images/no-poster.jpg\";\n\n      const year = movie.release_date?.split(\"-\")[0] || \"N/A\";\n\n      const card = document.createElement(\"a\");\n      card.className = \"movie-card large\";\n      card.setAttribute(\"data-id\", movie.id);\n      card.href = `catalog_mainbody.html?id=${movie.id}`;\n\n      card.innerHTML = `\n        <img src=\"${poster}\">\n        <div class=\"movie-card-overlay\">\n          <div class=\"movie-card-text\">\n            <h3>${movie.title}</h3>\n            <p class=\"movie-genres\">${genres}</p>\n            <p class=\"movie-year\">| ${year}</p>\n          </div>\n          <div class=\"movie-rating-stars\"></div>\n        </div>\n      `;\n\n      renderStarsToRating(\n        card.querySelector(\".movie-rating-stars\"),\n        movie.vote_average\n      );\n\n      container.appendChild(card);\n    });\n}\n\n\n  // ======================\n  // MOVIE OF THE MONTH\n  // ======================\n  function fetchMovieOfTheMonth() {\n    const now = new Date();\nconst year = now.getFullYear();\nconst month = String(now.getMonth() + 1).padStart(2, \"0\");\n\n// ayÄ±n ilk gÃ¼nÃ¼\nconst fromDate = `${year}-${month}-01`;\n\n// ayÄ±n son gÃ¼nÃ¼\nconst lastDay = new Date(year, now.getMonth() + 1, 0).getDate();\nconst toDate = `${year}-${month}-${String(lastDay).padStart(2, \"0\")}`;\n\n    const noMsg = document.getElementById(\"noUpcomingMsg\");\n    const heroSection = document.querySelector(\".hero1\");\n    const detailsSection = document.querySelector(\".movie-details\");\n\n   fetch(\n  `${BASE_URL}/discover/movie?api_key=${API_KEY}` +\n  `&primary_release_date.gte=${fromDate}` +\n  `&primary_release_date.lte=${toDate}` +\n  `&sort_by=popularity.desc`\n)\n  .then(r => r.json())\n  .then(d => {\n\n  const movies = (d.results || []).filter(m =>\n    m.backdrop_path &&     // gÃ¶rsel ÅŸart\n    m.vote_count > 0       // ðŸ”¥ vote / votes 0 ise ELENÄ°R\n  );\n\n  if (movies.length === 0) {\n    console.warn(\"NO UPCOMING MOVIE THIS MONTH\");\n    if (noMsg) noMsg.style.display = \"block\";\n    if (heroSection) heroSection.style.display = \"none\";\n    if (detailsSection) detailsSection.style.display = \"none\";\n    return;\n  }\n\n  // ðŸŽ² Rastgele film\n  const randomMovie =\n    movies[Math.floor(Math.random() * movies.length)];\n\n  if (noMsg) noMsg.style.display = \"none\";\n  if (heroSection) heroSection.style.display = \"block\";\n  if (detailsSection) detailsSection.style.display = \"block\";\n\n  renderMovieDetails(randomMovie);\n});\n}\n  // ======================\n// DATE FORMATTER\n// ======================\nfunction formatDate(dateStr) {\n  if (!dateStr) return \"â€”\";\n  const [year, month, day] = dateStr.split(\"-\");\n  return `${day}.${month}.${year}`;\n  }\n  \n\n\n function renderMovieDetails(movie) {\n  if (!movie) return;\n\n\n  // â— Bu fonksiyon SADECE detail sayfasÄ±nda Ã§alÄ±ÅŸsÄ±n\n  const voteAvgEl = document.getElementById(\"movieVoteAvg\");\n  if (!voteAvgEl) {\n    console.warn(\"â­ï¸ renderMovieDetails skipped (not detail page)\");\n    return;\n  }\n\n  const backdrop = document.getElementById(\"heroBackdrop\");\n  if (backdrop && movie.backdrop_path) {\n    backdrop.src = IMAGE_HERO + movie.backdrop_path;\n  }\n\n  // ðŸ”’ GÃ¼venli text setter\n  const setText = (id, value) => {\n    const el = document.getElementById(id);\n    if (el) el.textContent = value;\n  };\n\n  // ======================\n  // BASIC INFO\n  // ======================\n  setText(\"movieTitle\", movie.title || \"â€”\");\n  setText(\"movieOverview\", movie.overview || \"No overview available.\");\n   setText(\"movieDate\", movie.release_date || \"â€”\");\n    setText(\"movieDate\", formatDate(movie.release_date));\n\n  setText(\n    \"movieVoteAvg\",\n    typeof movie.vote_average === \"number\"\n      ? movie.vote_average.toFixed(1)\n      : \"â€”\"\n  );\n\n  setText(\n    \"movieVoteCount\",\n    typeof movie.vote_count === \"number\"\n      ? movie.vote_count\n      : \"â€”\"\n  );\n\n  setText(\n    \"moviePopularity\",\n    typeof movie.popularity === \"number\"\n      ? movie.popularity.toFixed(0)\n      : \"â€”\"\n  );\n\n  // ======================\n  // GENRES (DETAIL + LIST UYUMLU)\n  // ======================\n  let genresText = \"N/A\";\n\n  if (Array.isArray(movie.genres) && movie.genres.length > 0) {\n    // DETAIL PAGE DATA\n    genresText = movie.genres.map(g => g.name).join(\", \");\n  } else if (Array.isArray(movie.genre_ids) && movie.genre_ids.length > 0) {\n    // TRENDING / DISCOVER DATA\n    genresText = movie.genre_ids\n      .map(id => GENRES[id])\n      .filter(Boolean)\n      .join(\", \");\n  }\n\n  setText(\"movieGenre\", genresText);\n\n  // ======================\n  // LIBRARY BUTTON\n  // ======================\n  const libraryBtn = document.getElementById(\"libraryToggleBtn\");\n  if (libraryBtn) {\n    const updateBtn = () => {\n      const active = isFavorite(movie.id);\n      libraryBtn.textContent = active\n        ? \"Remove from library\"\n        : \"Add to my library\";\n      libraryBtn.classList.toggle(\"active\", active);\n    };\n\n    updateBtn();\n\n    libraryBtn.onclick = e => {\n      e.stopPropagation();\n      toggleFavorite(movie);\n      updateBtn();\n    };\n  }\n}\n\n\n\n  \n  // ðŸš€ START\n  fetchWeeklyTrends();\n  fetchMovieOfTheMonth();\n}\n\nexport function initCatalogMainbody() {\n  const params = new URLSearchParams(window.location.search);\n  const movieId = params.get(\"id\");\n\n  if (!movieId) {\n    console.warn(\"âŒ movieId yok\");\n    return;\n  }\n\n  fetch(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`)\n    .then(r => r.json())\n    .then(movie => {\n      console.log(\"ðŸŽ¬ MOVIE LOADED:\", movie);\n      renderMovieDetails(movie); // ðŸ”¥ movie SADECE BURADA VAR\n    })\n    .catch(err => console.error(\"API error:\", err));\n}","export function initScrollUp() {\n  const scrollUpBtn = document.getElementById(\"scrollUpBtn\");\n\n  // DOM Guard: Buton yoksa dur\n  if (!scrollUpBtn) {\n    console.warn(\"Scroll button bulunamadÄ±!\"); // Konsolda bunu gÃ¶rÃ¼rsen HTML'de buton yok demektir.\n    return;\n  }\n\n  window.addEventListener(\"scroll\", () => {\n    // 300px aÅŸaÄŸÄ± inildi mi?\n    if (window.scrollY > 300) {\n      scrollUpBtn.classList.add(\"show\"); // CSS'teki .show class'Ä±nÄ± ekler\n    } else {\n      scrollUpBtn.classList.remove(\"show\");\n    }\n  });\n\n  scrollUpBtn.addEventListener(\"click\", () => {\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\",\n    });\n  });\n}","// src/js/components/footer.js\n\nexport function initFooter() {\n  // Butona doÄŸrudan deÄŸil, document body'ye dinleyici ekliyoruz\n  document.body.addEventListener('click', (e) => {\n    \n    // 1. TÄ±klanan ÅŸey (veya kapsayÄ±cÄ±sÄ±) AÃ‡MA butonu mu?\n    const openBtn = e.target.closest('#openTeamModal');\n    \n    // 2. TÄ±klanan ÅŸey (veya kapsayÄ±cÄ±sÄ±) KAPATMA butonu mu?\n    const closeBtn = e.target.closest('#closeTeamModal');\n    \n    // 3. ModalÄ±n kendisi mi?\n    const modal = document.getElementById('teamModal');\n\n    // EÄŸer sayfada modal yoksa hiÃ§ uÄŸraÅŸma, Ã§Ä±k\n    if (!modal) return;\n\n    // --- AÃ‡MA Ä°ÅžLEMÄ° ---\n    if (openBtn) {\n      e.preventDefault(); // Link ise gitmesini engelle\n      console.log(\"Footer: Modal aÃ§Ä±lÄ±yor...\");\n      modal.classList.add('is-open');\n      document.body.style.overflow = 'hidden'; // KaydÄ±rmayÄ± kilitle\n      return; // Ä°ÅŸlem bitti\n    }\n\n    // --- KAPATMA Ä°ÅžLEMÄ° (X butonu) ---\n    if (closeBtn) {\n      console.log(\"Footer: Modal kapanÄ±yor (Buton ile)...\");\n      modal.classList.remove('is-open');\n      document.body.style.overflow = '';\n      return;\n    }\n\n    // --- KAPATMA Ä°ÅžLEMÄ° (Siyah BoÅŸluk / Backdrop) ---\n    // closest kullanmÄ±yoruz, Ã§Ã¼nkÃ¼ direkt siyah alana tÄ±klanmalÄ±\n    if (e.target === modal) {\n      console.log(\"Footer: Modal kapanÄ±yor (Backdrop ile)...\");\n      modal.classList.remove('is-open');\n      document.body.style.overflow = '';\n    }\n  });\n\n  // ESC TuÅŸu KontrolÃ¼ (Global)\n  window.addEventListener('keydown', (e) => {\n    const modal = document.getElementById('teamModal');\n    if (e.key === 'Escape' && modal && modal.classList.contains('is-open')) {\n      console.log(\"Footer: Modal kapanÄ±yor (ESC ile)...\");\n      modal.classList.remove('is-open');\n      document.body.style.overflow = '';\n    }\n  });\n}","// components/trailer_popup.js\n\n// Popup elementlerini seÃ§elim\nconst popupBackdrop = document.getElementById('trailer-error-popup');\nconst closeBtn = document.querySelector('[data-popup-close]');\n\n// Popup'Ä± aÃ§ma fonksiyonu\nexport function openTrailerErrorPopup() {\n  if (popupBackdrop) {\n    popupBackdrop.classList.remove('is-hidden');\n    // Popup aÃ§Ä±lÄ±nca body scroll'u kilitlemek istersen:\n    document.body.style.overflow = 'hidden'; \n  }\n}\n\n// Popup'Ä± kapatma fonksiyonu\nfunction closeTrailerErrorPopup() {\n  if (popupBackdrop) {\n    popupBackdrop.classList.add('is-hidden');\n    document.body.style.overflow = ''; // Scroll'u geri aÃ§\n  }\n}\n\n// Event Listeners (Kapatma iÅŸlemleri iÃ§in)\nif (closeBtn) {\n  closeBtn.addEventListener('click', closeTrailerErrorPopup);\n}\n\nif (popupBackdrop) {\n  // Arkaplana (boÅŸluÄŸa) tÄ±klayÄ±nca kapanmasÄ± iÃ§in\n  popupBackdrop.addEventListener('click', (e) => {\n    if (e.target === popupBackdrop) {\n      closeTrailerErrorPopup();\n    }\n  });\n\n  // ESC tuÅŸu ile kapatmak iÃ§in\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape' && !popupBackdrop.classList.contains('is-hidden')) {\n      closeTrailerErrorPopup();\n    }\n  });\n}","const LOADER_ID = 'global-loader-overlay';\nlet activeCount = 0;\nlet failSafeTimer = null;\nlet watchdog = null;\n\nfunction stripVisibility() {\n  const existing = dedupeAndGet();\n  if (existing) existing.classList.remove('is-visible');\n  activeCount = 0;\n  clearFailSafe();\n  startWatchdog();\n}\n\nfunction dedupeAndGet() {\n  const nodes = document.querySelectorAll(`#${LOADER_ID}`);\n  nodes.forEach((node, idx) => {\n    if (idx > 0) node.remove();\n  });\n  return nodes[0] || null;\n}\n\nfunction ensureLoader() {\n  let loader = dedupeAndGet();\n  if (!loader) {\n    loader = document.createElement('div');\n    loader.id = LOADER_ID;\n    loader.className = 'loader-overlay';\n    loader.innerHTML = `\n      <div class=\"loader-spinner\" role=\"status\" aria-live=\"polite\" aria-label=\"Loading\">\n        <span class=\"loader-dot\"></span>\n        <span class=\"loader-dot\"></span>\n        <span class=\"loader-dot\"></span>\n      </div>\n    `;\n    document.body.appendChild(loader);\n  }\n  return loader;\n}\n\nexport function showLoader() {\n  const loader = ensureLoader();\n  activeCount += 1;\n  clearFailSafe();\n  startWatchdog();\n  requestAnimationFrame(() => loader.classList.add('is-visible'));\n  // Auto-clear after 12s in case a request never resolves\n  failSafeTimer = setTimeout(() => {\n    resetLoader();\n  }, 12000);\n}\n\nexport function hideLoader() {\n  const loader = dedupeAndGet();\n  if (!loader) return;\n  activeCount = Math.max(0, activeCount - 1);\n  if (activeCount === 0) {\n    loader.classList.remove('is-visible');\n    clearFailSafe();\n    startWatchdog();\n  }\n}\n\n// Defensive: clear any stale visible state on hot-reloads/page restore\nexport function resetLoader() {\n  const loader = dedupeAndGet();\n  activeCount = 0;\n  clearFailSafe();\n  startWatchdog();\n  if (loader) loader.classList.remove('is-visible');\n}\n\n// Immediately clear any persisted visibility (e.g., after navigation/back-forward cache)\nstripVisibility();\nwindow.addEventListener('pageshow', stripVisibility);\nwindow.addEventListener('load', stripVisibility);\ndocument.addEventListener('visibilitychange', () => {\n  if (!document.hidden) stripVisibility();\n});\n// Extra guard: after load, ensure hidden within 300ms\nwindow.addEventListener('load', () => {\n  setTimeout(resetLoader, 300);\n});\n\nfunction clearFailSafe() {\n  if (failSafeTimer) {\n    clearTimeout(failSafeTimer);\n    failSafeTimer = null;\n  }\n}\n\nfunction startWatchdog() {\n  if (watchdog) return;\n  watchdog = setInterval(() => {\n    const loader = dedupeAndGet();\n    if (!loader) return;\n    if (activeCount === 0 && loader.classList.contains('is-visible')) {\n      loader.classList.remove('is-visible');\n    }\n  }, 5000);\n}\n","// [header] header.js loaded\nconsole.log('[header] header.js checking in');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let overlayEl = null;\n\n  function createOverlay(closeFn) {\n    if (overlayEl) return;\n    overlayEl = document.createElement('div');\n    overlayEl.className = 'mobile-menu-overlay';\n    // Overlay stili iÃ§in CSS'de .mobile-menu-overlay tanÄ±mlÄ± olmalÄ±\n    overlayEl.addEventListener('click', closeFn);\n    document.body.appendChild(overlayEl);\n  }\n\n  function removeOverlay() {\n    if (!overlayEl) return;\n    overlayEl.remove();\n    overlayEl = null;\n  }\n\n  function openMenu(menuBtn, mobileMenu) {\n    mobileMenu.classList.add('open');\n    menuBtn.setAttribute('aria-expanded', 'true');\n    createOverlay(() => closeMenu(menuBtn, mobileMenu));\n    document.body.style.overflow = 'hidden';\n  }\n\n  function closeMenu(menuBtn, mobileMenu) {\n    mobileMenu.classList.remove('open');\n    if (menuBtn) menuBtn.setAttribute('aria-expanded', 'false');\n    removeOverlay();\n    document.body.style.overflow = '';\n  }\n\n  // Tek bir delegasyon Ã¼zerinden tÃ¼m tÄ±klamalarÄ± yÃ¶netelim\n  document.addEventListener('click', (e) => {\n\n    console.log('[header] Global click on:', e.target);\n\n    // 1. MenÃ¼ Butonu KontrolÃ¼\n    const btn = e.target.closest('.menu-open-btn');\n    if (btn) {\n\n      console.log('[header] Menu btn detected!');\n\n      const mobileMenu = document.querySelector('.mobile-menu');\n      if (!mobileMenu) return;\n      \n      console.log('[header] Menu toggle clicked');\n      if (mobileMenu.classList.contains('open')) {\n        closeMenu(btn, mobileMenu);\n      } else {\n        openMenu(btn, mobileMenu);\n      }\n      return; // Ä°ÅŸlem tamam, aÅŸaÄŸÄ±ya bakma\n    }\n\n    // 2. Nav Link KontrolÃ¼ (MenÃ¼ iÃ§indeki linke tÄ±klanÄ±rsa kapat)\n    const link = e.target.closest('.mobile-menu .nav-link');\n    if (link) {\n      const mobileMenu = document.querySelector('.mobile-menu');\n      const btn = document.querySelector('.menu-open-btn');\n      if (mobileMenu && mobileMenu.classList.contains('open')) {\n        setTimeout(() => closeMenu(btn, mobileMenu), 100);\n      }\n    }\n  });\n\n  // ESC TuÅŸu KontrolÃ¼\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape') {\n      const mobileMenu = document.querySelector('.mobile-menu');\n      const btn = document.querySelector('.menu-open-btn');\n      if (mobileMenu && mobileMenu.classList.contains('open')) {\n        closeMenu(btn, mobileMenu);\n      }\n    }\n  });\n\n  function setActiveNavLink() {\n    const currentPath = window.location.pathname;\n    const navLinks = document.querySelectorAll('.nav-link');\n\n    navLinks.forEach(link => {\n      link.classList.remove('active');\n      // EÄŸer linkin href'i mevcut URL ile eÅŸleÅŸiyorsa active ekle\n      if (currentPath.includes(link.getAttribute('href').replace('./', ''))) {\n        link.classList.add('active');\n      }\n    });\n\n    // EÄŸer ana dizindeysek varsayÄ±lan Home\n    if (currentPath === '/' || currentPath.endsWith('index.html')) {\n      document.querySelector('.nav-link[href=\"./index.html\"]')?.classList.add('active');\n    }\n  }\n  setActiveNavLink();\n});","import axios from 'axios';\n\n// API AyarlarÄ±\nconst API_KEY = '98ff2d6267ceea8e039422b0f46fb813';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\n// Merkezi Axios YapÄ±landÄ±rmasÄ±\nconst api = axios.create({\n  baseURL: BASE_URL,\n  params: {\n    api_key: API_KEY,\n    language: 'en-US', // VarsayÄ±lan dil\n  },\n});\n\n/**\n * GÃ¼nlÃ¼k veya HaftalÄ±k Trend Filmleri Getirir\n * @param {string} period - 'day' veya 'week' (VarsayÄ±lan: 'day')\n * @returns {Promise<Array>} Film listesi\n */\nexport const getTrending = async (period = 'day') => {\n  try {\n    const { data } = await api.get(`/trending/movie/${period}`);\n    return data.results; //\n  } catch (error) {\n    console.error(`Trend filmler (${period}) alÄ±namadÄ±:`, error);\n    throw error;\n  }\n};\n\n/**\n * Anahtar kelime ve yÄ±la gÃ¶re film aramasÄ± yapar (Katalog SayfasÄ± iÃ§in)\n * @param {string} query - Arama terimi\n * @param {number} page - Sayfa numarasÄ±\n * @param {string} year - YayÄ±n yÄ±lÄ± (Opsiyonel)\n */\nexport const searchMovies = async (query, page = 1, year = '') => {\n  try {\n    const { data } = await api.get('/search/movie', {\n      params: { query, page, year },\n    });\n    return data; // Sayfalama (pagination) iÃ§in tÃ¼m objeyi dÃ¶ndÃ¼rÃ¼yoruz\n  } catch (error) {\n    console.error('Film aramasÄ± baÅŸarÄ±sÄ±z:', error);\n    throw error;\n  }\n};\n\n/**\n * Film detaylarÄ±nÄ± getirir (Modal penceresi iÃ§in)\n * @param {number} movieId - Filmin ID'si\n */\nexport const getMovieDetails = async (movieId) => {\n  try {\n    const { data } = await api.get(`/movie/${movieId}`);\n    return data; //\n  } catch (error) {\n    console.error('Film detaylarÄ± alÄ±namadÄ±:', error);\n    throw error;\n  }\n};\n\n/**\n * Filmin videolarÄ±nÄ± (Fragman/Trailer) getirir\n * @param {number} movieId - Filmin ID'si\n */\nexport const getMovieVideos = async (movieId) => {\n  try {\n    const { data } = await api.get(`/movie/${movieId}/videos`);\n    // Genellikle 'YouTube' ve 'Trailer' olan ilk videoyu seÃ§mek iÃ§in filtreleme yapÄ±yoruz\n    return data.results.filter(video => video.site === 'YouTube' && video.type === 'Trailer'); //\n  } catch (error) {\n    console.error('Film fragmanÄ± bulunamadÄ±:', error);\n    throw error;\n  }\n};\n\n/**\n * Gelecek (Upcoming) filmleri getirir\n * @param {number} page - Sayfa numarasÄ±\n */\nexport const getUpcoming = async (page = 1) => {\n  try {\n    const { data } = await api.get('/movie/upcoming', { params: { page } });\n    return data; //\n  } catch (error) {\n    console.error('Gelecek filmler alÄ±namadÄ±:', error);\n    throw error;\n  }\n};\n\n/**\n * TÃ¼m film tÃ¼rlerini (Genres) getirir (Filtreleme iÃ§in)\n */\nexport const getGenres = async () => {\n  try {\n    const { data } = await api.get('/genre/movie/list');\n    return data.genres; //\n  } catch (error) {\n    console.error('TÃ¼r listesi alÄ±namadÄ±:', error);\n    throw error;\n  }\n};\n\nexport default {\n  getTrending,\n  searchMovies,\n  getMovieDetails,\n  getMovieVideos,\n  getUpcoming,\n  getGenres,\n};","import { getTrending, getUpcoming, getGenres, getMovieVideos } from '../api/api-service.js';\nimport { openTrailerErrorPopup } from './trailer_popup.js';\nimport { showLoader, hideLoader } from '../utils/loader.js';\nfunction renderStarsToRating(el, rating) {\n  if (!el) return;\n\n  el.innerHTML = '';\n\n  const normalized = Math.max(0, Math.min(10, rating || 0));\n  const fullStars = Math.floor(normalized / 2);\n  const hasHalfStar = normalized / 2 - fullStars >= 0.5;\n\n  for (let i = 0; i < 5; i++) {\n    let fillType = 'empty';\n\n    if (i < fullStars) {\n      fillType = 'full';\n    } else if (i === fullStars && hasHalfStar) {\n      fillType = 'half';\n    }\n\n    const gradientId = `hero-star-${Math.random().toString(36).slice(2)}`;\n\n    el.innerHTML += `\n      <svg viewBox=\"0 0 32 32\" width=\"14\" height=\"14\" class=\"star\">\n        <defs>\n          <linearGradient id=\"${gradientId}-full\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n            <stop offset=\"0%\" stop-color=\"#F84119\"/>\n            <stop offset=\"100%\" stop-color=\"#F89F19\"/>\n          </linearGradient>\n          <linearGradient id=\"${gradientId}-half\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"0\">\n            <stop offset=\"0%\" stop-color=\"#F84119\"/>\n            <stop offset=\"50%\" stop-color=\"#F89F19\"/>\n            <stop offset=\"50%\" stop-color=\"#bfbfbf\"/>\n            <stop offset=\"100%\" stop-color=\"#bfbfbf\"/>\n          </linearGradient>\n        </defs>\n        <path d=\"M16 2l4.09 9.63L30 12.27l-7 6.86L24.18 30 16 24.8 7.82 30 9 19.13l-7-6.86 9.91-1.64L16 2z\"\n          fill=\"${fillType === 'full' ? `url(#${gradientId}-full)` : fillType === 'half' ? `url(#${gradientId}-half)` : '#bfbfbf'}\"\n          stroke=\"none\" />\n      </svg>\n    `;\n  }\n}\n\nfunction pickRandom(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport async function initHero() {\n  const heroSection = document.getElementById('hero-section');\n  if (!heroSection) return;\n\n  const pageType = heroSection.getAttribute('data-page'); // 'dynamic', 'library', or other\n\n  // Library page uses static CSS background â€” skip JS processing\n  if (pageType === 'library') {\n    return;\n  }\n\n  if (pageType === 'dynamic') {\n    try {\n        showLoader();\n        const movies = await getTrending('day');\n\n        if (movies && movies.length > 0) {\n          const film = pickRandom(movies);\n          // API'den gelen filmle hero iÃ§eriÄŸini oluÅŸtur\n          renderHeroContent(heroSection, film);\n        } else {\n          // Api'den veri gelmezse varsayÄ±lan hero iÃ§eriÄŸini oluÅŸtur\n          renderDefaultHero(heroSection);\n        }\n    } catch (err) {\n        console.error('Hero yÃ¼klenirken hata:', err);\n        renderDefaultHero(heroSection);\n  } finally {\n    hideLoader();\n    }\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Try to initialize hero when DOM is ready\n  initHero().catch(err => console.error('initHero error:', err));\n});\n\nfunction renderHeroContent(container, film) {\n  const { title, overview, backdrop_path, vote_average, id } = film;\n\n  const updateBg = () => {\n    const overlay = 'linear-gradient(90deg, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.65) 20%, rgba(0,0,0,0.0) 60%)';\n    const isRetina = window.devicePixelRatio > 1.1;\n    \n    let imageUrl = '';\n    if (backdrop_path) {\n        let quality = 'w780'; \n        if (window.innerWidth >= 1280) quality = isRetina ? 'original' : 'w1280'; \n        else if (window.innerWidth >= 768) quality = isRetina ? 'w1280' : 'w780';\n        imageUrl = `https://image.tmdb.org/t/p/${quality}${backdrop_path}`;\n    } else {\n      // API'den gÃ¶rsel gelmezse public/background klasÃ¶rÃ¼ndeki gÃ¶rseli kullan\n      const suffix = isRetina ? '-@2x' : '';\n      // Public klasÃ¶rÃ¼ kÃ¶k dizin kabul edilir, o yÃ¼zden direkt /background ile baÅŸlanÄ±r\n      imageUrl = `./background/desktop-1${suffix}.jpg`;\n    }\n\n    container.style.backgroundImage = `${overlay}, url('${imageUrl}')`;\n    container.style.backgroundSize = 'cover';\n    container.style.backgroundPosition = 'center';\n  };\n\n  updateBg();\n  const observer = new MutationObserver(updateBg);\n  observer.observe(document.body, { attributes: true, attributeFilter: ['class'] });\n  window.addEventListener('resize', updateBg);\n\n  container.innerHTML = `\n    <div class=\"container hero-content\">\n      <h1 class=\"hero-title\">${title}</h1>\n      <div class=\"movie-rating-stars hero-rating-stars\"></div>\n      <p class=\"hero-description\">${overview.slice(0, 220)}...</p> \n      <div class=\"hero-btns\">\n        <button type=\"button\" class=\"btn-primary\" id=\"watch-trailer\">Watch trailer</button>\n        <button type=\"button\" class=\"btn-secondary\" id=\"more-details\">More details</button>\n      </div>\n    </div>\n  `;\n\n  renderStarsToRating(container.querySelector('.hero-rating-stars'), vote_average);\n\n  // --- popup ---\n\ncontainer.querySelector('#watch-trailer').onclick = async (e) => {\n    e.preventDefault();\n    showLoader();\n    \n    try {\n      \n      const videos = await getMovieVideos(id);\n     \n      if (videos && videos.length > 0) { \n        window.dispatchEvent(new CustomEvent('openTrailerModal', { detail: { movieId: id } }));\n      } else {\n        openTrailerErrorPopup();\n      }\n\n    } catch (error) {\n      console.log('Hata:', error);\n      openTrailerErrorPopup();\n    } finally {\n      hideLoader();\n    }\n  };\n  // --------------------------\n\n  container.querySelector('#more-details').onclick = () => {\n    window.dispatchEvent(new CustomEvent('openDetailsModal', { detail: { movie: film } }));\n  };\n}\n\nfunction renderDefaultHero(container) {\n  container.classList.add('hero-default');\n\n  const updateDefaultBg = () => {\n    const isRetina = window.devicePixelRatio > 1.1;\n    const overlay = 'linear-gradient(90deg, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.65) 20%, rgba(0,0,0,0.0) 60%)';\n    \n    // GÃ¶rselindeki isimlendirmeye gÃ¶re: mobil-1 (i ile)\n    let fileName = window.innerWidth < 768 ? 'mobil-1' : 'desktop-1';\n    if (isRetina) fileName += '-@2x';\n    \n    // Public iÃ§indeki dosya yolu\n    const base = import.meta.env.BASE_URL || '/';\n    const imageUrl = `./background/${fileName}.jpg`.replace(/\\/+/g, '/');\n    \n    console.log(\"Resim URL Deneniyor:\", imageUrl);\n\n    container.style.backgroundImage = `${overlay}, url('${imageUrl}')`;\n    container.style.backgroundSize = 'cover';\n    container.style.backgroundPosition = 'center';\n  };\n\n  updateDefaultBg();\n  window.addEventListener('resize', updateDefaultBg);\n\n  container.innerHTML = `\n    <div class=\"container hero-content\">\n      <h1 class=\"hero-title\">Letâ€™s Make Your Own Cinema</h1>\n      <p class=\"hero-description\">Is a guide to creating a personalized movie theater experience. You'll need a projector, screen, and speakers.</p>\n      <button type=\"button\" class=\"btn-primary\" id=\"go-catalog\">Get Started</button>\n    </div>\n  `;\n\n  const goCatalog = container.querySelector('#go-catalog');\n  if (goCatalog) {\n    goCatalog.onclick = () => {\n      window.location.href = './catalog.html';\n    };\n  }\n}","const KEY = 'favorites';\n\nexport function getLibrary() {\n  try {\n    const raw = localStorage.getItem(KEY);\n    return raw ? JSON.parse(raw) : [];\n  } catch (err) {\n    console.error('localStorage read error', err);\n    return [];\n  }\n}\n\nexport function saveLibrary(arr) {\n  try {\n    localStorage.setItem(KEY, JSON.stringify(arr));\n  } catch (err) {\n    console.error('localStorage write error', err);\n  }\n}\n\nexport function isInLibrary(id) {\n  const lib = getLibrary();\n  return lib.some(m => Number(m.id) === Number(id));\n}\n\nexport function addMovie(movie) {\n  const lib = getLibrary();\n  if (!lib.some(m => Number(m.id) === Number(movie.id))) {\n    lib.push(movie);\n    saveLibrary(lib);\n  }\n}\n\nexport function removeMovie(id) {\n  let lib = getLibrary();\n  lib = lib.filter(m => Number(m.id) !== Number(id));\n  saveLibrary(lib);\n}\n\nexport default { getLibrary, saveLibrary, isInLibrary, addMovie, removeMovie };\n","import { getMovieDetails, getMovieVideos } from '../api/api-service.js';\nimport { isInLibrary, addMovie, removeMovie } from '../utils/local-storage.js';\n\n// --- 1. MODAL Ä°SKELETÄ°NÄ° OLUÅžTURMA (DOM Injection) ---\nfunction createModalRoot() {\n  // EÄŸer modal zaten sayfada varsa tekrar oluÅŸturma\n  if (document.querySelector('.backdrop')) {\n    return;\n  }\n\n  const overlay = document.createElement('div');\n  overlay.className = 'backdrop is-hidden'; // CSS: .backdrop\n  overlay.setAttribute('data-modal', '');\n\n  const modalElement = document.createElement('div');\n  modalElement.className = 'modal'; // CSS: .modal\n  \n  // Modal iÃ§eriÄŸi: Kapatma butonu ve iÃ§erik kapsayÄ±cÄ±sÄ±\n  modalElement.innerHTML = `\n    <button type=\"button\" class=\"modal-close-btn\" data-modal-close>\n      <svg class=\"icon icon-Vectorx\"><use xlink:href=\"/images/icons/symbol-defs.svg#icon-Vectorx\">\n    </button>\n    <div class=\"modal-content\" id=\"modal-content\"></div>\n  `;\n\n  overlay.appendChild(modalElement);\n  document.body.appendChild(overlay);\n\n  // Kapatma Eventleri (Backdrop tÄ±klamasÄ±, Buton, ESC tuÅŸu)\n  const closeBtn = modalElement.querySelector('[data-modal-close]');\n  \n  overlay.addEventListener('click', (e) => {\n    if (e.target === overlay) closeGlobalModal();\n  });\n  \n  closeBtn.addEventListener('click', closeGlobalModal);\n  \n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape') closeGlobalModal();\n  });\n}\n\n// Global Kapatma Fonksiyonu\nfunction closeGlobalModal() {\n  const overlay = document.querySelector('.backdrop');\n  if (overlay) {\n    overlay.classList.add('is-hidden');\n    document.body.classList.remove('modal-open');\n    const content = document.getElementById('modal-content');\n    if (content) content.innerHTML = ''; // Ä°Ã§eriÄŸi temizle\n  }\n}\n\n// Sayfa yÃ¼klendiÄŸinde iskeleti hazÄ±rla\ncreateModalRoot();\n\n// --- 2. DETAYLARI GETÄ°R VE MODALI AÃ‡ ---\nexport async function openDetailsModal(movieId) {\n  const overlay = document.querySelector('.backdrop');\n  const content = document.getElementById('modal-content');\n  \n  // YÃ¼kleniyor animasyonu veya yazÄ±sÄ±\n  content.innerHTML = '<div style=\"text-align:center; padding: 50px;\">ðŸŽ¬ Loading Trailer...</div>';\n  \n  overlay.classList.remove('is-hidden');\n  document.body.classList.add('modal-open');\n\n  try {\n    // API'den veriyi Ã§ek\n    const data = await getMovieDetails(movieId);\n    \n    // Veri hazÄ±rlÄ±ÄŸÄ±\n    const posterUrl = data.poster_path \n      ? `https://image.tmdb.org/t/p/w500${data.poster_path}` \n      : 'https://via.placeholder.com/300x450?text=No+Image';\n      \n    const genresList = data.genres ? data.genres.map(g => g.name).join(', ') : 'Unknown';\n    const inLib = isInLibrary(data.id);\n    const releaseYear = data.release_date ? data.release_date.slice(0, 4) : 'N/A';\n\n    // HTML Markup (CSS ile uyumlu yapÄ±)\n    const markup = `\n      <div class=\"modal-img-wrapper\">\n        <img src=\"${posterUrl}\" alt=\"${data.title}\" class=\"modal-img\" />\n      </div>\n      \n      <div class=\"modal-info\">\n        <h2 class=\"modal-title\">${data.title.toUpperCase()}</h2>\n        \n        <div class=\"modal-stats\">\n          <div class=\"stats-item\">\n            <span class=\"stats-key\">Vote / Votes</span>\n            <span class=\"stats-value\">\n              <span class=\"vote-average\">${data.vote_average.toFixed(1)}</span> / \n              <span class=\"vote-count\">${data.vote_count}</span>\n            </span>\n          </div>\n          <div class=\"stats-item\">\n            <span class=\"stats-key\">Popularity</span>\n            <span class=\"stats-value\">${data.popularity.toFixed(1)}</span>\n          </div>\n          <div class=\"stats-item\">\n            <span class=\"stats-key\">Genre</span>\n            <span class=\"stats-value\">${genresList}</span>\n          </div>\n        </div>\n\n        <h3 class=\"modal-about-title\">ABOUT</h3>\n        <p class=\"modal-about-text\">${data.overview || 'No description available.'}</p>\n\n        <div class=\"modal-buttons\">\n          <button type=\"button\" class=\"btn-modal btn-add-library ${inLib ? 'active' : ''}\" id=\"modal-library-btn\">\n            ${inLib ? 'Remove from library' : 'Add to my library'}\n          </button>\n        </div>\n      </div>\n    `;\n\n    content.innerHTML = markup;\n\n    // Library Butonu Ä°ÅŸlevselliÄŸi\n    const libBtn = document.getElementById('modal-library-btn');\n    libBtn.addEventListener('click', () => {\n      if (isInLibrary(data.id)) {\n        removeMovie(data.id);\n        libBtn.textContent = 'Add to my library';\n        libBtn.classList.remove('active');\n      } else {\n        // Library sayfasÄ±na kaydederken gereken tÃ¼m verileri obje olarak sakla\n        const movieToSave = {\n          id: data.id,\n          title: data.title,\n          poster_path: data.poster_path,\n          vote_average: data.vote_average,\n          release_date: data.release_date,\n          genres: data.genres\n        };\n        addMovie(movieToSave);\n        libBtn.textContent = 'Remove from library';\n        libBtn.classList.add('active');\n      }\n    });\n\n  } catch (err) {\n    console.error('Modal HatasÄ±:', err);\n    content.innerHTML = '<p style=\"text-align:center; padding:20px;\">Error loading movie details.</p>';\n  }\n}\n\n// --- 3. DÄ°NLEYÄ°CÄ°LERÄ° (LISTENERS) BAÄžLAMA ---\n// Projedeki tÃ¼m potansiyel film listesi kapsayÄ±cÄ±larÄ±\nconst containerIds = [\n  'weeklyTrends',    // Home SayfasÄ±\n  'moviesContainer', // Catalog Arama SonuÃ§larÄ±\n  'catalog-list',    // Catalog SayfasÄ± Listesi\n  'movieList'        // Library SayfasÄ±\n];\n\n// TÃ¼m kapsayÄ±cÄ±larÄ± dÃ¶ngÃ¼ye alÄ±p tÄ±klama olayÄ±nÄ± dinle\ncontainerIds.forEach(id => {\n  const container = document.getElementById(id);\n  if (container) {\n    container.addEventListener('click', (e) => {\n      // TÄ±klanan eleman .movie-card VEYA .movie-card-overlay mi?\n      // Loglarda overlay Ã§Ä±ktÄ±ÄŸÄ± iÃ§in her ikisini de kontrol ediyoruz.\n      const card = e.target.closest('.movie-card') || e.target.closest('.movie-card-overlay');\n\n      // EÄŸer kart bulunduysa VE data-id Ã¶zelliÄŸi varsa\n      if (card && card.dataset.id) {\n        e.preventDefault(); // Link ise gitmesini engelle\n        const movieId = card.dataset.id;\n        openDetailsModal(movieId);\n      }\n    });\n  }\n});\n\n// hero.js'den gelen \"More Details\" sinyalini yakala\nwindow.addEventListener('openDetailsModal', (event) => {\n  const movieData = event.detail.movie;\n  // Modal fonksiyonun movieId beklediÄŸi iÃ§in id'yi gÃ¶nderiyoruz\n  if (movieData && movieData.id) {\n    openDetailsModal(movieData.id);\n  }\n});\n\n// Hero'dan gelen \"Watch Trailer\" sinyali\n\nwindow.addEventListener('openTrailerModal', async (event) => {\n  const movieId = event.detail.movieId;\n  const overlay = document.querySelector('.backdrop');\n  const content = document.getElementById('modal-content');\n  \n  // 1. ModalÄ± gÃ¶rÃ¼nÃ¼r yap ve yÃ¼kleniyor mesajÄ± ver\n  overlay.classList.remove('is-hidden');\n  document.body.classList.add('modal-open');\n  content.innerHTML = '<div style=\"text-align:center; padding: 50px;\">ðŸŽ¬ Loading Trailer...</div>';\n\n  try {\n    const videos = await getMovieVideos(movieId);\n    console.log(\"Fetched videos:\", videos); // Hata ayÄ±klama iÃ§in\n    \n    // 2. VideolarÄ± kontrol et (Trailer ve YouTube olanÄ± bul)\n    // api-service.js zaten filtreleme yapÄ±yor ama biz yine de ilk videoyu alalÄ±m\n    if (videos && videos.length > 0) {\n      const trailerKey = videos[0].key;\n      \n      // 3. Ä°Ã§eriÄŸi temizle ve Iframe'i bas\n      // Ã–nemli: padding-bottom: 56.25% (16:9 oranÄ±) videonun gÃ¶rÃ¼nmesini saÄŸlar\n      content.innerHTML = `\n        <div class=\"trailer-container\">\n          <iframe \n            src=\"https://www.youtube.com/embed/${trailerKey}?autoplay=1\" \n            title=\"YouTube video player\" \n            frameborder=\"0\" \n            allow=\"autoplay; encrypted-media; picture-in-picture\" \n            allowfullscreen>\n          </iframe>\n        </div>\n      `;\n    } else { // Fragman yoksa hata mesajÄ± ______________________________\n      content.innerHTML = `<div class=\"no-trailer-msg\">Sorry, no trailer found for this movie.</div>`;\n    }\n  } catch (error) {\n    console.error(\"Trailer loading error:\", error);\n    content.innerHTML = '<p style=\"text-align:center; padding:20px;\">An error occurred while fetching the video.</p>';\n  }\n});\n\n\nexport default { openDetailsModal };","// main.js\n\n// 1. Sadece bir kez import et\nimport { initTheme } from './utils/theme-toggle.js';\nimport { initLibrary } from \"./library_mainbody.js\";\nimport { initCatalog } from \"./catalog_list.js\";\nimport { initCatalogHome } from \"./catalog_mainbody.js\";\nimport { initScrollUp } from './components/scrollup.js';\nimport { initFooter } from './components/footer.js';\nimport { openTrailerErrorPopup } from './components/trailer_popup.js';\nimport { hideLoader, resetLoader } from './utils/loader.js';\n\n// 3. DiÄŸer bileÅŸenler\nimport './components/header.js';\nimport './components/hero.js';\nimport './components/footer.js';\nimport './components/modal.js';\n\n// 4. Sayfa Ã¶zelindeki JS'ler\nimport './components/pagination.js';\nimport './components/scrollup.js';\n\n// 2. Hemen Ã§alÄ±ÅŸtÄ±r\ninitTheme(); \ninitFooter();\n\n\n\n\n\nif (document.body.dataset.page === \"catalog-main\") {\n  initCatalogMainbody();\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Ensure loader is hidden on initial paint (defensive against stale state)\n  resetLoader();\n  hideLoader();\n\n  initScrollUp();\n\n  // Home / Catalog ana sayfa\n  if (document.getElementById(\"weeklyTrends\")) {\n    initCatalogHome();\n  }\n\n  // Catalog liste / arama sayfasÄ±\n  if (document.getElementById(\"moviesContainer\")) {\n    initCatalog();\n  }\n\n  // Library sayfasÄ±\n  if (document.getElementById(\"movieList\")) {\n    initLibrary();\n  }\n\n  const libraryHeroCta = document.getElementById('hero-btn');\n  if (libraryHeroCta) {\n    libraryHeroCta.addEventListener('click', () => {\n      window.location.href = './catalog.html';\n    });\n  }\n});"],"names":["initTheme","themeSwitch","savedTheme","API_KEY","BASE_URL","IMAGE_BASE","renderStarsToRating","el","rating","fullStars","hasHalfStar","i","fillType","gid","getFavorites","isFavorite","id","m","toggleFavorite","movie","favs","genre_ids","g","initLibrary","movieList","emptySection","loadMoreBtn","genreWrapper","genreDropdown","genreBtn","genreIcon","searchMovieBtn","isTablet","visibleCount","selectedGenreId","e","li","genreTextEl","renderLibrary","isDesktop","getInitialVisibleCount","newCount","favorites","filteredFavorites","byGenre","renderMovies","movies","poster","year","_a","genres","card","Pagination","containerId","totalItems","itemsPerPage","onPageChange","currentPage","num","page","html","item","isActive","total","current","range","start","end","btn","prev","next","initCatalog","selectedYearValue","currentQuery","selectedCountryCode","hasSearched","genreMap","currentMode","COUNTRY_MAP","moviesContainer","emptyMessage","filmInput","clearBtn","searchBtn","yearBtn","yearDropdown","selectedYear","countrySelect","countryInput","countryList","countryBtn","searchRow","y","paginationContainer","input","parent","clearInputBtn","countryChevronSVG","selectedCountry","setupPagination","totalResults","safeTotal","newPage","fetchTrending","searchMovies","listSection","r","d","countryName","name","isOpen","url","_b","initCatalogHome","GENRES","IMAGE_HERO","weeklyCache","fetchWeeklyTrends","renderWeeklyTrends","lastWeeklyLimit","getWeeklyLimit","currentLimit","container","fetchMovieOfTheMonth","now","month","fromDate","lastDay","toDate","noMsg","heroSection","detailsSection","randomMovie","renderMovieDetails","formatDate","dateStr","day","backdrop","setText","value","genresText","libraryBtn","updateBtn","active","initScrollUp","scrollUpBtn","initFooter","openBtn","closeBtn","modal","popupBackdrop","openTrailerErrorPopup","closeTrailerErrorPopup","LOADER_ID","activeCount","failSafeTimer","watchdog","stripVisibility","existing","dedupeAndGet","clearFailSafe","startWatchdog","nodes","node","idx","ensureLoader","loader","showLoader","resetLoader","hideLoader","overlayEl","createOverlay","closeFn","removeOverlay","openMenu","menuBtn","mobileMenu","closeMenu","setActiveNavLink","currentPath","link","api","axios","getTrending","period","data","error","getMovieDetails","movieId","getMovieVideos","video","normalized","gradientId","pickRandom","arr","initHero","pageType","film","renderHeroContent","renderDefaultHero","err","title","overview","backdrop_path","vote_average","updateBg","overlay","isRetina","imageUrl","quality","videos","updateDefaultBg","fileName","goCatalog","KEY","getLibrary","raw","saveLibrary","isInLibrary","addMovie","lib","removeMovie","createModalRoot","modalElement","closeGlobalModal","content","openDetailsModal","posterUrl","genresList","inLib","releaseYear","markup","libBtn","movieToSave","containerIds","event","movieData","trailerKey","libraryHeroCta"],"mappings":"gvBAAO,SAASA,IAAY,CAC1B,MAAMC,EAAc,SAAS,cAAc,WAAW,EAChDC,EAAa,aAAa,QAAQ,OAAO,GAAK,OAUpD,GAPIA,IAAe,QACjB,SAAS,KAAK,UAAU,IAAI,aAAa,EAEzC,SAAS,KAAK,UAAU,OAAO,aAAa,EAI1C,CAACD,EAAa,CAEhB,WAAWD,GAAW,GAAG,EACzB,MACF,CAEAC,EAAY,QAAWC,IAAe,QAGjCD,EAAY,QAAQ,gBACvBA,EAAY,iBAAiB,SAAU,IAAM,CACvCA,EAAY,SACd,SAAS,KAAK,UAAU,IAAI,aAAa,EACzC,aAAa,QAAQ,QAAS,OAAO,IAErC,SAAS,KAAK,UAAU,OAAO,aAAa,EAC5C,aAAa,QAAQ,QAAS,MAAM,EAExC,CAAC,EACDA,EAAY,QAAQ,cAAgB,OAExC,CC9BO,MAAME,GAAU,mCACVC,GAAW,+BACXC,EAAa,kCAKnB,SAASC,EAAoBC,EAAIC,EAAQ,CAC9C,GAAI,CAACD,EAAI,OACTA,EAAG,UAAY,GAEf,MAAME,EAAY,KAAK,MAAMD,EAAS,CAAC,EACjCE,EAAcF,EAAS,GAAK,EAElC,QAASG,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIC,EAAW,QACXD,EAAIF,EAAWG,EAAW,OACrBD,IAAMF,GAAaC,IAAaE,EAAW,QAEpD,MAAMC,EAAM,QAAQ,KAAK,OAAM,EAAG,SAAS,EAAE,EAAE,MAAM,CAAC,CAAC,GAEvDN,EAAG,WAAa;AAAA;AAAA;AAAA,gCAGYM,CAAG;AAAA;AAAA;AAAA;AAAA,gCAIHA,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUvBD,IAAa,OACT,QAAQC,CAAG,SACXD,IAAa,OACb,QAAQC,CAAG,SACX,SAChB;AAAA;AAAA;AAAA,KAIE,CACF,CAKO,SAASC,IAAe,CAC7B,OAAO,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,GAAK,CAAA,CAC1D,CAEO,SAASC,GAAWC,EAAI,CAC7B,OAAOF,GAAY,EAAG,KAAKG,GAAKA,EAAE,KAAOD,CAAE,CAC7C,CAEO,SAASE,GAAeC,EAAO,CACpC,MAAMC,EAAO,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,GAAK,CAAA,EAE9D,GAAIA,EAAK,KAAKH,GAAKA,EAAE,KAAOE,EAAM,EAAE,EAAG,CACrC,aAAa,QACX,YACA,KAAK,UAAUC,EAAK,OAAOH,GAAKA,EAAE,KAAOE,EAAM,EAAE,CAAC,CACxD,EACI,MACF,CAEA,MAAME,EAAY,MAAM,QAAQF,EAAM,SAAS,EAC3CA,EAAM,UACN,MAAM,QAAQA,EAAM,MAAM,EAC1BA,EAAM,OAAO,IAAIG,GAAKA,EAAE,EAAE,EAC1B,CAAA,EAEJF,EAAK,KAAK,CACR,GAAID,EAAM,GACV,MAAOA,EAAM,MACb,YAAaA,EAAM,YACnB,aAAcA,EAAM,aACpB,aAAcA,EAAM,aACpB,UAAAE,CACJ,CAAG,EAED,aAAa,QAAQ,YAAa,KAAK,UAAUD,CAAI,CAAC,CACxD,CCpFO,SAASG,IAAc,CAE5B,MAAMC,EAAY,SAAS,eAAe,WAAW,EAC/CC,EAAe,SAAS,eAAe,cAAc,EACrDC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAgB,SAAS,eAAe,eAAe,EACvDC,EAAW,SAAS,eAAe,UAAU,EAC7CC,EAAY,SAAS,eAAe,WAAW,EAC/CC,EAAiB,SAAS,cAAc,gBAAgB,EAO9D,SAASC,GAAW,CAClB,OAAO,OAAO,YAAc,KAAO,OAAO,WAAa,IAEzD,CAGA,IAAIC,EAAe,EACfC,EAAkB,KAEtB,GAAI,CAACV,GAAa,CAACC,GAAgB,CAACC,EAAa,CAC/C,QAAQ,KAAK,+CAA+C,EAC5D,MACF,CAGA,SAAS,iBAAiB,QAAS,UAAY,CAC1CE,GACAA,EAAc,UAAU,SAAS,QAAQ,IAE9CA,EAAc,UAAU,OAAO,QAAQ,EACvCC,EAAS,UAAU,OAAO,MAAM,EAE5BC,GACFA,EAAU,UAAU,OAAO,QAAQ,EAEvC,CAAC,EAEKD,GAAYD,GAChBC,EAAS,iBAAiB,QAAS,SAAUM,EAAG,CAC9CA,EAAE,gBAAe,EAEjBP,EAAc,UAAU,OAAO,QAAQ,EACvCC,EAAS,UAAU,OAAO,MAAM,EAE5BC,GACFA,EAAU,UAAU,OAAO,QAAQ,CAEvC,CAAC,EAGGC,GACFA,EAAe,iBAAiB,QAAS,IAAM,CAC7C,OAAO,SAAS,KAAO,eACzB,CAAC,EAGCH,GACJA,EAAc,iBAAiB,QAAS,SAAUO,EAAG,CACnDA,EAAE,gBAAe,EAEjB,MAAMC,EAAKD,EAAE,OAAO,QAAQ,IAAI,EAChC,GAAI,CAACC,EAAI,OAETF,EAAkBE,EAAG,QAAQ,QACzB,OAAOA,EAAG,QAAQ,OAAO,EACzB,KAEJ,MAAMC,EAAcR,EAAS,cAAc,aAAa,EAExDQ,IACED,EAAG,QAAQ,QACbC,EAAY,YAAcD,EAAG,YAE7BC,EAAY,YAAc,SAG1BT,EAAc,UAAU,OAAO,QAAQ,EACvCC,EAAS,UAAU,OAAO,MAAM,EAE5BC,GACFA,EAAU,UAAU,OAAO,QAAQ,EAErCG,EAAe,EACfK,EAAa,CACf,CAAC,EAOH,SAASC,GAAY,CACnB,OAAO,OAAO,YAAc,IAC9B,CAEA,SAASC,GAAyB,CAChC,OAAID,EAAS,EACJ,EAGLP,EAAQ,GACHE,IAAoB,KAAO,EAG7B,CACT,CAEMH,GACFA,EAAe,iBAAiB,QAAS,IAAM,CAE7C,eAAe,QAAQ,gBAAiB,MAAM,EAE9C,OAAO,SAAS,KAAO,gBACzB,CAAC,EAGHE,EAAeO,EAAsB,EACvCF,EAAa,EAEX,OAAO,iBAAiB,SAAU,IAAM,CACxC,MAAMG,EAAWD,EAAsB,EACnCC,IAAaR,IACfA,EAAeQ,EACfH,EAAa,EAEjB,CAAC,EAEC,SAASA,GAAgB,CACzB,MAAMI,EAAY5B,GAAY,EAE9B,IAAI6B,EAAoBD,EAExB,GAAIR,IAAoB,KAAM,CAC5B,MAAMU,EAAUF,EAAU,OAAOvB,GAC/B,MAAM,QAAQA,EAAM,MAAM,GAC1BA,EAAM,OAAO,KAAKG,GAAKA,EAAE,KAAOY,CAAe,CACrD,EAEQU,EAAQ,OAAS,IACnBD,EAAoBC,EAExB,CAYA,GAVApB,EAAU,UAAY,GAElBU,IAAoB,OACtBS,EAAoBD,EAAU,OAAOvB,GACnC,MAAM,QAAQA,EAAM,MAAM,GAC1BA,EAAM,OAAO,KAAKG,GAAKA,EAAE,KAAOY,CAAe,CACrD,GAIMA,IAAoB,MAAQS,EAAkB,SAAW,EAAG,CAC9DlB,EAAa,UAAU,OAAO,QAAQ,EACtCC,EAAY,UAAU,IAAI,QAAQ,EAE9BC,GACFA,EAAa,UAAU,OAAO,cAAc,EAE9C,MACF,CAGA,GAAIe,EAAU,SAAW,EAAG,CAC1BjB,EAAa,UAAU,OAAO,QAAQ,EACtCC,EAAY,UAAU,IAAI,QAAQ,EAE9BC,GACFA,EAAa,UAAU,IAAI,cAAc,EAE3C,MACF,CAEIA,GACFA,EAAa,UAAU,OAAO,cAAc,EAG9CF,EAAa,UAAU,IAAI,QAAQ,EAEnCoB,EAAaF,EAAkB,MAAM,EAAGV,CAAY,CAAC,EAErDP,EAAY,UAAU,OACpB,SACAO,IAAiB,KAAYA,GAAgBU,EAAkB,MACnE,CACA,CAEE,OAAO,iBAAiB,SAAU,IAAM,CACxC,MAAMF,EAAWD,EAAsB,EAEnCC,IAAaR,IACfA,EAAeQ,EACfH,EAAa,EAEjB,CAAC,EAEDZ,EAAY,iBAAiB,QAAS,IAAM,CAC1CO,GAAgB,EAChBK,EAAa,CACf,CAAC,EAIC,SAASO,EAAaC,EAAQ,CAC9BtB,EAAU,UAAY,GAEtBsB,EAAO,QAAQ3B,GAAS,OACtB,GAAI,CAACA,EAAM,YAAa,OAExB,MAAM4B,EAAS,GAAG1C,CAAU,GAAGc,EAAM,WAAW,GAC1C6B,IAAOC,EAAA9B,EAAM,eAAN,YAAA8B,EAAoB,MAAM,EAAG,KAAM,MAE1CC,EAAS,MAAM,QAAQ/B,EAAM,MAAM,EACrCA,EAAM,OAAO,IAAIG,GAAKA,EAAE,IAAI,EAAE,MAAM,EAAG,CAAC,EAAE,KAAK,IAAI,EACnD,UAEE6B,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,UAAY,aACjBA,EAAK,aAAa,UAAWhC,EAAM,EAAE,EACrCgC,EAAK,KAAO,4BAA4BhC,EAAM,EAAE,GAEhDgC,EAAK,UAAY;AAAA,kBACHJ,CAAM,UAAU5B,EAAM,KAAK;AAAA;AAAA;AAAA,gBAG7BA,EAAM,KAAK;AAAA;AAAA,uCAEY+B,CAAM;AAAA,uCACNF,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,MAOvCxB,EAAU,YAAY2B,CAAI,EAE1B7C,EACE6C,EAAK,cAAc,qBAAqB,EACxChC,EAAM,cAAgB,CAC5B,CACE,CAAC,CACH,CACA,CCjQO,MAAMiC,EAAW,CAEtB,YAAY,CAAE,YAAAC,EAAa,WAAAC,EAAY,aAAAC,EAAc,aAAAC,EAAc,YAAAC,EAAc,GAAK,CACpF,KAAK,UAAY,SAAS,eAAeJ,CAAW,EACpD,KAAK,WAAaC,EAClB,KAAK,aAAeC,EAIpB,KAAK,YAAcE,EAEnB,KAAK,WAAa,KAAK,KAAK,KAAK,WAAa,KAAK,YAAY,EAC/D,KAAK,aAAeD,EACpB,KAAK,OAAM,CACb,CAEA,IAAIE,EAAK,CACP,OAAO,OAAOA,CAAG,EAAE,SAAS,EAAG,GAAG,CACpC,CAEA,SAASC,EAAM,CACTA,EAAO,GAAKA,EAAO,KAAK,YAAcA,IAAS,KAAK,cACxD,KAAK,YAAcA,EACnB,KAAK,OAAM,EACP,KAAK,cAAc,KAAK,aAAa,KAAK,WAAW,EAC3D,CAEA,QAAS,CACP,GAAI,KAAK,YAAc,EAAG,CACxB,KAAK,UAAU,UAAY,GAC3B,MACF,CAGA,IAAIC,EAAO,4DAA4D,KAAK,cAAgB,EAAI,WAAa,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,eAOjG,KAAK,mBAAkB,EAE/B,QAAQC,GAAQ,CACpB,GAAIA,IAAS,MACXD,GAAQ,+CACH,CACL,MAAME,EAAWD,IAAS,KAAK,YAAc,SAAW,GACxDD,GAAQ,mDAAmDE,CAAQ,gBAAgBD,CAAI,KAAK,KAAK,IAAIA,CAAI,CAAC,WAC5G,CACF,CAAC,EAGDD,GAAQ,4DAA4D,KAAK,cAAgB,KAAK,WAAa,WAAa,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,eAO1H,KAAK,UAAU,UAAYA,EAC3B,KAAK,kBAAiB,CACxB,CAEA,oBAAqB,CACnB,MAAMG,EAAQ,KAAK,WACbC,EAAU,KAAK,YACfC,EAAQ,CAAA,EACRhC,EAAe,EACrB,IAAIiC,EAAQF,EAAU,EAClBG,EAAMH,EAAU,EAEhBE,EAAQ,IACVA,EAAQ,EACRC,EAAM,KAAK,IAAIlC,EAAc8B,CAAK,GAEhCI,EAAMJ,IACRI,EAAMJ,EACNG,EAAQ,KAAK,IAAI,EAAGH,EAAQ9B,EAAe,CAAC,GAG1CiC,EAAQ,GAAGD,EAAM,KAAK,KAAK,EAC/B,QAAStD,EAAIuD,EAAOvD,GAAKwD,EAAKxD,IAAKsD,EAAM,KAAKtD,CAAC,EAC/C,OAAIwD,EAAMJ,GAAOE,EAAM,KAAK,KAAK,EAE1BA,CACT,CAEA,mBAAoB,CAClB,KAAK,UAAU,iBAAiB,oBAAoB,EAAE,QAAQG,GAAO,CACnEA,EAAI,iBAAiB,QAAS,IAAM,KAAK,SAAS,SAASA,EAAI,QAAQ,IAAI,CAAC,CAAC,CAC/E,CAAC,EACD,MAAMC,EAAO,KAAK,UAAU,cAAc,WAAW,EAC/CC,EAAO,KAAK,UAAU,cAAc,WAAW,EACjDD,GAAMA,EAAK,iBAAiB,QAAS,IAAM,KAAK,SAAS,KAAK,YAAc,CAAC,CAAC,EAC9EC,GAAMA,EAAK,iBAAiB,QAAS,IAAM,KAAK,SAAS,KAAK,YAAc,CAAC,CAAC,CACpF,CACF,CC1FO,SAASC,IAAc,CAI5B,IAAIC,EAAoB,GACpBC,EAAe,GACfC,EAAsB,GACtBC,EAAc,GACdC,EAAW,CAAA,EAGXC,EAAc,WAElB,MAAMC,EAAc,CAClB,gBAAiB,KACjB,QAAS,KACT,OAAQ,KACR,MAAO,KACP,MAAO,KACP,iBAAkB,KAClB,MAAO,KACP,QAAS,IACb,EAKQ3E,EAAU,mCACVC,EAAW,+BAKX2E,EAAkB,SAAS,eAAe,iBAAiB,EAC3DC,EAAe,SAAS,eAAe,cAAc,EAErDC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAW,SAAS,eAAe,aAAa,EAChDC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAe,SAAS,eAAe,cAAc,EACrDC,EAAe,SAAS,eAAe,cAAc,EAErDC,EAAgB,SAAS,eAAe,eAAe,EACvDC,EAAeD,GAAA,YAAAA,EAAe,cAAc,kBAC5CE,EAAcF,GAAA,YAAAA,EAAe,cAAc,iBAC3CG,EAAaH,EAAc,cAAc,cAAc,EAGzD,eAAe,QAAQ,eAAe,IAAM,SAChD,eAAe,WAAW,eAAe,EAGxC,WAAW,IAAM,CAChB,MAAMI,EAAY,SAAS,cAAc,aAAa,EACtD,GAAI,CAACA,EAAW,OAEhB,MAAMC,EACJD,EAAU,sBAAqB,EAAG,IAClC,OAAO,QACP,GAEF,OAAO,SAAS,CACd,IAAKC,EACL,SAAU,QAChB,CAAK,CACH,EAAG,GAAG,GAEN,MAAMC,EAAsB,SAAS,eAAe,YAAY,EAChE,GAAI,CAACd,GAAmB,CAACC,EAAc,OAEvC,MAAMc,EAAQ,SAAS,cAAc,eAAe,EAChDC,EAASD,EAAM,cAErBC,EAAO,mBACL,YACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAcF,EAEE,MAAMC,EAAgBD,EAAO,cAAc,mBAAmB,EAC9DC,EAAc,MAAM,QAAU,OAehCZ,EAAQ,mBAAmB,YAbN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAa6B,EAE5CD,IACJA,EAAU,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAgBtB,MAAMc,GAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EActBC,EAAkB,SAAS,eAAe,iBAAiB,EACjEA,EAAgB,mBAAmB,WAAYD,EAAiB,EAM9D,SAASE,EAAgBC,EAAczC,EAAM,CAO3C,MAAM0C,EAAYD,EAAe,IAAW,IAAWA,EAGvD,GAAIC,IAAc,EAAG,CACnBR,EAAoB,UAAY,GAChC,MACF,CAEA,IAAIzC,GAAW,CACb,YAAa,aACb,WAAYiD,EACZ,aAAc,GACd,YAAa1C,EAEb,aAAc2C,GAAW,CACvB,QAAQ,IAAI,iCAAkCA,CAAO,EAIjDzB,IAAgB,WAClB0B,EAAcD,CAAO,EAErBE,EAAaF,CAAO,EAItB,MAAMG,EAAc,SAAS,eAAe,iBAAiB,EAC7D,GAAIA,EAAa,CAEf,MAAMb,EACJa,EAAY,sBAAqB,EAAG,IAAM,OAAO,QAAU,IAC7D,OAAO,SAAS,CAAE,IAAKb,EAAG,SAAU,SAAU,CAChD,CACF,CACN,CAAK,CACH,CAsDA,GAlDA,MAAM,GAAGxF,CAAQ,6BAA6BD,CAAO,iBAAiB,EACnE,KAAKuG,GAAKA,EAAE,KAAI,CAAE,EAClB,KAAKC,GAAKA,EAAE,OAAO,QAAQrF,GAAMsD,EAAStD,EAAE,EAAE,EAAIA,EAAE,IAAK,CAAC,EAO7DyE,EAAO,iBAAiB,QAAU5D,GAAM,CAC5BA,EAAE,OAAO,QAAQ,mBAAmB,IAGhD2D,EAAM,MAAQ,GACdA,EAAM,MAAK,EACb,CAAC,EAECC,EAAO,iBAAiB,QAAU5D,GAAM,CACxC,GAAIA,EAAE,SAAW2D,EAAO,OAExB,MAAM1B,EAAM2B,EAAO,cAAc,mBAAmB,EAChD3B,IACFA,EAAI,MAAM,QAAU0B,EAAM,MAAQ,QAAU,OAEhD,CAAC,EAGCJ,EAAW,iBAAiB,QAAUvD,GAAM,CAC5CA,EAAE,gBAAe,EACjBoD,EAAc,UAAU,OAAO,MAAM,CACvC,CAAC,EAEDE,EAAY,iBAAiB,IAAI,EAAE,QAAQrD,GAAM,CAC/CA,EAAG,iBAAiB,QAAUD,GAAM,CAClCA,EAAE,gBAAe,EAEjB,MAAMyE,EAAcxE,EAAG,YAAY,KAAI,EACvC8D,EAAgB,YAAcU,EAC9BlC,EAAsBI,EAAY8B,CAAW,GAAK,GAElDrB,EAAc,UAAU,OAAO,MAAM,CACvC,CAAC,CACH,CAAC,EAED,SAAS,iBAAiB,QAAUpD,GAAM,CACnCoD,EAAc,SAASpD,EAAE,MAAM,GAClCoD,EAAc,UAAU,OAAO,MAAM,CAEzC,CAAC,EAEKE,GAAe,CAACA,EAAY,QAAQ,KAAM,CAC9C,MAAMrD,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,YAAc,UACjBqD,EAAY,QAAQrD,CAAE,EACtBqD,EAAY,QAAQ,KAAO,MAC7B,CAEEO,EAAc,iBAAiB,QAAS,IAAM,CAC9Cf,EAAU,MAAQ,GAClBA,EAAU,MAAK,EACfe,EAAc,MAAM,QAAU,MAChC,CAAC,EAGDT,EAAc,iBAAiB,kBAAkB,EAAE,QAAQ1B,GAAQ,CACjEA,EAAK,iBAAiB,QAAS,IAAM,CACnCqC,EAAgB,YAAcrC,EAAK,YACnC0B,EAAc,UAAU,OAAO,MAAM,CACvC,CAAC,CACH,CAAC,EAEDA,EAAc,iBAAiB,kBAAkB,EAAE,QAAQ1B,GAAQ,CACjEA,EAAK,iBAAiB,QAAS,IAAM,CACnC,MAAM+C,EAAc/C,EAAK,YAAY,KAAI,EAEzCqC,EAAgB,YAAcU,EAC9BlC,EAAsBI,EAAY8B,CAAW,GAAK,GAElDrB,EAAc,UAAU,OAAO,MAAM,CAEvC,CAAC,CACH,CAAC,EAEC,SAAS,iBAAiB,QAAUpD,GAAM,CAC1C,MAAMoD,EAAgB,SAAS,eAAe,eAAe,EAGxDA,EAAc,SAASpD,EAAE,MAAM,GAClCoD,EAAc,UAAU,OAAO,MAAM,CAEvC,CAAC,EAOGA,GAAiBC,GAAgBC,IACnCD,EAAa,SAAW,GAIxBC,EAAY,iBAAiB,IAAI,EAAE,QAAQrD,GAAM,CAC/CA,EAAG,iBAAiB,QAASD,GAAK,CAChCA,EAAE,gBAAe,EACjB,MAAM0E,EAAOzE,EAAG,YAAY,KAAI,EAChCoD,EAAa,MAAQqB,EACrBnC,EAAsBI,EAAY+B,CAAI,GAAK,GAC3CtB,EAAc,UAAU,IAAI,WAAW,EACvCA,EAAc,UAAU,OAAO,MAAM,CACvC,CAAC,CACH,CAAC,GASCH,GAAWC,IACfD,EAAQ,iBAAiB,QAASjD,GAAK,CACrCA,EAAE,gBAAe,EAEjB,MAAM2E,EAASzB,EAAa,UAAU,OAAO,MAAM,EACnDD,EAAQ,UAAU,OAAO,OAAQ0B,CAAM,CACzC,CAAC,EAEDzB,EAAa,iBAAiB,QAASlD,GAAK,CAC1CA,EAAE,gBAAe,EACbA,EAAE,OAAO,UAAY,OACvBqC,EAAoBrC,EAAE,OAAO,QAAQ,MAAQ,GAC7CmD,EAAa,YAAcnD,EAAE,OAAO,YAEpCkD,EAAa,UAAU,OAAO,MAAM,EACpCD,EAAQ,UAAU,OAAO,MAAM,EAEnC,CAAC,GAMH,SAAS,iBAAiB,QAASjD,GAAK,CACjCkD,EAAa,UAAU,SAAS,MAAM,GAEvC,CAACA,EAAa,SAASlD,EAAE,MAAM,GAAK,CAACiD,EAAQ,SAASjD,EAAE,MAAM,IAChEkD,EAAa,UAAU,OAAO,MAAM,EACpCD,EAAQ,UAAU,OAAO,MAAM,EAEnC,CAAC,EAMCD,EAAU,iBAAiB,QAAS,IAAM,CAIxC,GAHAV,EAAeQ,EAAU,MAAM,KAAI,EACnCN,EAAc,GAEV,CAACF,GAAgB,CAACD,GAAqB,CAACE,EAAqB,CAC/DC,EAAc,GACd4B,EAAa,EACb,MACF,CACAC,EAAY,CACd,CAAC,EAKGtB,GACJA,EAAS,iBAAiB,QAAS,UAAY,CAC7CD,EAAU,MAAQ,GAEdO,IACFA,EAAa,MAAQ,IAGvBF,EAAa,YAAc,OAE3Bb,EAAe,GACfD,EAAoB,GACpBE,EAAsB,GACtBC,EAAc,GAEVY,GACFA,EAAc,UAAU,OAAO,WAAW,EAG5CgB,EAAa,CACf,CAAC,EAKH,SAASC,EAAa7C,EAAO,EAAG,CAC9B,IAAIoD,EAAM,GAAG3G,CAAQ,2BAA2BD,CAAO,SAASwD,CAAI,GAEhEc,IACFsC,GAAO,oBAAoB,mBAAmBtC,CAAY,CAAC,IAGzDD,IACFuC,GAAO,yBAAyBvC,CAAiB,IAG/CE,IACFqC,GAAO,wBAAwBrC,CAAmB,IAGpD,MAAMqC,CAAG,EACN,KAAKL,GAAKA,EAAE,KAAI,CAAE,EAClB,KAAKC,GAAK,CACT9D,EAAa8D,EAAE,SAAW,EAAE,EAC5BR,EAAgBQ,EAAE,cAAehD,CAAI,CACvC,CAAC,CACL,CAME4C,EAAc,CAAC,EAEf,SAASA,EAAc5C,EAAO,EAAG,CAC/BqB,EAAa,MAAM,QAAU,OAC7BH,EAAc,WACd,MAAM,GAAGzE,CAAQ,gCAAgCD,CAAO,SAASwD,CAAI,EAAE,EACpE,KAAK+C,GAAKA,EAAE,KAAI,CAAE,EAClB,KAAKC,GAAK,CACX9D,EAAa8D,EAAE,SAAW,EAAE,EAC5BR,EAAgBQ,EAAE,cAAehD,CAAI,CACvC,CAAC,CACH,CAKA,SAASd,EAAaC,EAAQ,CAG5B,GAFAiC,EAAgB,UAAY,GAExB,CAACjC,EAAO,OAAQ,CAClBkC,EAAa,MAAM,QAAUL,EAAc,QAAU,OACrD,MACF,CAEAK,EAAa,MAAM,QAAU,OAE7BlC,EAAO,MAAM,EAAG,EAAE,EAAE,QAAQ3B,GAAS,SACnC,MAAMgC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,UAAY,aACjBA,EAAK,aAAa,UAAWhC,EAAM,EAAE,EACrCgC,EAAK,KAAO,4BAA4BhC,EAAM,EAAE,GAEhD,MAAM4B,EAAS5B,EAAM,YACjB,GAAGd,CAAU,GAAGc,EAAM,WAAW,GACjC,sCAEE6B,IAAOC,EAAA9B,EAAM,eAAN,YAAA8B,EAAoB,MAAM,EAAG,KAAM,MAC1CC,IACJ8D,EAAA7F,EAAM,YAAN,YAAA6F,EACI,IAAIhG,GAAM4D,EAAS5D,CAAE,GACtB,OAAO,SACP,MAAM,EAAG,GACT,KAAK,QAAS,UAEnBmC,EAAK,UAAY;AAAA,oBACHJ,CAAM;AAAA;AAAA;AAAA,kBAGR5B,EAAM,KAAK;AAAA;AAAA,oCAEO+B,CAAM;AAAA,qCACLF,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,QAOnC+B,EAAgB,YAAY5B,CAAI,EAEhC7C,EACE6C,EAAK,cAAc,qBAAqB,EACxChC,EAAM,YACd,CACI,CAAC,CACH,CACF,CCleO,SAAS8F,IAAkB,CAChC,MAAMC,EAAS,CACb,GAAI,SACJ,GAAI,YACJ,GAAI,YACJ,GAAI,SACJ,GAAI,QACJ,GAAI,QACJ,MAAO,SACP,GAAI,UACJ,GAAI,SACJ,KAAM,UACN,IAAK,SACL,GAAI,WACJ,MAAO,SACX,EAEQC,EAAa,sCAGnB,GAAI,CAAC,SAAS,eAAe,cAAc,GACzC,CAAC,SAAS,eAAe,cAAc,EAAG,CAC1C,QAAQ,KAAK,gDAAgD,EAC7D,MACF,CAOA,IAAIC,EAAc,CAAA,EAEpB,SAASC,GAAoB,CAC3B,MAAM,GAAGjH,EAAQ,gCAAgCD,EAAO,EAAE,EACvD,KAAKuG,GAAKA,EAAE,KAAI,CAAE,EAClB,KAAKC,GAAK,CACTS,EAAcT,EAAE,SAAW,CAAA,EAC3BW,EAAmBF,CAAW,CAChC,CAAC,CACL,CACE,IAAIG,EAAkBC,EAAc,EAEtC,OAAO,iBAAiB,SAAU,IAAM,CACtC,MAAMC,EAAeD,EAAc,EAG/BC,IAAiBF,IACnBA,EAAkBE,EAClBH,EAAmBF,CAAW,EAElC,CAAC,EAEC,SAASI,GAAiB,CAC1B,OAAO,OAAO,WAAW,oBAAoB,EAAE,QAAU,EAAI,CAC/D,CAEE,SAASF,EAAmBxE,EAAQ,CACpC,MAAM4E,EAAY,SAAS,eAAe,cAAc,EACxD,GAAI,CAACA,EAAW,OAEhBA,EAAU,UAAY,GAGL,CAAC,GAAG5E,CAAM,EAAE,KAAK,IAAM,KAAK,OAAM,EAAK,EAAG,EAGxD,MAAM,EAAG0E,EAAc,CAAE,EACzB,QAAQrG,GAAS,OAEhB,MAAM+B,EAAS/B,EAAM,UAClB,IAAIH,GAAMkG,EAAOlG,CAAE,CAAC,EACpB,OAAO,OAAO,EACd,MAAM,EAAG,CAAC,EACV,KAAK,IAAI,EAEN+B,EAAS5B,EAAM,YACjBd,EAAac,EAAM,YACnB,yBAEE6B,IAAOC,EAAA9B,EAAM,eAAN,YAAA8B,EAAoB,MAAM,KAAK,KAAM,MAE5CE,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,UAAY,mBACjBA,EAAK,aAAa,UAAWhC,EAAM,EAAE,EACrCgC,EAAK,KAAO,4BAA4BhC,EAAM,EAAE,GAEhDgC,EAAK,UAAY;AAAA,oBACHJ,CAAM;AAAA;AAAA;AAAA,kBAGR5B,EAAM,KAAK;AAAA,sCACS+B,CAAM;AAAA,sCACNF,CAAI;AAAA;AAAA;AAAA;AAAA,QAMpC1C,EACE6C,EAAK,cAAc,qBAAqB,EACxChC,EAAM,YACd,EAEMuG,EAAU,YAAYvE,CAAI,CAC5B,CAAC,CACL,CAME,SAASwE,GAAuB,CAC9B,MAAMC,EAAM,IAAI,KACd5E,EAAO4E,EAAI,YAAW,EACtBC,EAAQ,OAAOD,EAAI,SAAQ,EAAK,CAAC,EAAE,SAAS,EAAG,GAAG,EAGlDE,EAAW,GAAG9E,CAAI,IAAI6E,CAAK,MAG3BE,EAAU,IAAI,KAAK/E,EAAM4E,EAAI,SAAQ,EAAK,EAAG,CAAC,EAAE,QAAO,EACvDI,EAAS,GAAGhF,CAAI,IAAI6E,CAAK,IAAI,OAAOE,CAAO,EAAE,SAAS,EAAG,GAAG,CAAC,GAEzDE,EAAQ,SAAS,eAAe,eAAe,EAC/CC,EAAc,SAAS,cAAc,QAAQ,EAC7CC,EAAiB,SAAS,cAAc,gBAAgB,EAE/D,MACD,GAAG/H,EAAQ,2BAA2BD,EAAO,6BAChB2H,CAAQ,6BACRE,CAAM,0BAErC,EACG,KAAKtB,GAAKA,EAAE,KAAI,CAAE,EAClB,KAAKC,GAAK,CAEX,MAAM7D,GAAU6D,EAAE,SAAW,CAAA,GAAI,OAAO1F,GACtCA,EAAE,eACFA,EAAE,WAAa,CACnB,EAEE,GAAI6B,EAAO,SAAW,EAAG,CACvB,QAAQ,KAAK,8BAA8B,EACvCmF,IAAOA,EAAM,MAAM,QAAU,SAC7BC,IAAaA,EAAY,MAAM,QAAU,QACzCC,IAAgBA,EAAe,MAAM,QAAU,QACnD,MACF,CAGA,MAAMC,EACJtF,EAAO,KAAK,MAAM,KAAK,SAAWA,EAAO,MAAM,CAAC,EAE9CmF,IAAOA,EAAM,MAAM,QAAU,QAC7BC,IAAaA,EAAY,MAAM,QAAU,SACzCC,IAAgBA,EAAe,MAAM,QAAU,SAEnDE,EAAmBD,CAAW,CAChC,CAAC,CACD,CAIA,SAASE,EAAWC,EAAS,CAC3B,GAAI,CAACA,EAAS,MAAO,IACrB,KAAM,CAACvF,EAAM6E,EAAOW,CAAG,EAAID,EAAQ,MAAM,GAAG,EAC5C,MAAO,GAAGC,CAAG,IAAIX,CAAK,IAAI7E,CAAI,EAC9B,CAID,SAASqF,EAAmBlH,EAAO,CAClC,GAAI,CAACA,EAAO,OAKZ,GAAI,CADc,SAAS,eAAe,cAAc,EACxC,CACd,QAAQ,KAAK,iDAAiD,EAC9D,MACF,CAEA,MAAMsH,EAAW,SAAS,eAAe,cAAc,EACnDA,GAAYtH,EAAM,gBACpBsH,EAAS,IAAMtB,EAAahG,EAAM,eAIpC,MAAMuH,EAAU,CAAC1H,EAAI2H,IAAU,CAC7B,MAAMpI,EAAK,SAAS,eAAeS,CAAE,EACjCT,IAAIA,EAAG,YAAcoI,EAC3B,EAKAD,EAAQ,aAAcvH,EAAM,OAAS,GAAG,EACxCuH,EAAQ,gBAAiBvH,EAAM,UAAY,wBAAwB,EAClEuH,EAAQ,YAAavH,EAAM,cAAgB,GAAG,EAC7CuH,EAAQ,YAAaJ,EAAWnH,EAAM,YAAY,CAAC,EAErDuH,EACE,eACA,OAAOvH,EAAM,cAAiB,SAC1BA,EAAM,aAAa,QAAQ,CAAC,EAC5B,GACR,EAEEuH,EACE,iBACA,OAAOvH,EAAM,YAAe,SACxBA,EAAM,WACN,GACR,EAEEuH,EACE,kBACA,OAAOvH,EAAM,YAAe,SACxBA,EAAM,WAAW,QAAQ,CAAC,EAC1B,GACR,EAKE,IAAIyH,EAAa,MAEb,MAAM,QAAQzH,EAAM,MAAM,GAAKA,EAAM,OAAO,OAAS,EAEvDyH,EAAazH,EAAM,OAAO,IAAIG,GAAKA,EAAE,IAAI,EAAE,KAAK,IAAI,EAC3C,MAAM,QAAQH,EAAM,SAAS,GAAKA,EAAM,UAAU,OAAS,IAEpEyH,EAAazH,EAAM,UAChB,IAAIH,GAAMkG,EAAOlG,CAAE,CAAC,EACpB,OAAO,OAAO,EACd,KAAK,IAAI,GAGd0H,EAAQ,aAAcE,CAAU,EAKhC,MAAMC,EAAa,SAAS,eAAe,kBAAkB,EAC7D,GAAIA,EAAY,CACd,MAAMC,EAAY,IAAM,CACtB,MAAMC,EAAShI,GAAWI,EAAM,EAAE,EAClC0H,EAAW,YAAcE,EACrB,sBACA,oBACJF,EAAW,UAAU,OAAO,SAAUE,CAAM,CAC9C,EAEAD,EAAS,EAETD,EAAW,QAAU1G,GAAK,CACxBA,EAAE,gBAAe,EACjBjB,GAAeC,CAAK,EACpB2H,EAAS,CACX,CACF,CACF,CAMEzB,EAAiB,EACjBM,EAAoB,CACtB,CCvRO,SAASqB,IAAe,CAC7B,MAAMC,EAAc,SAAS,eAAe,aAAa,EAGzD,GAAI,CAACA,EAAa,CAChB,QAAQ,KAAK,2BAA2B,EACxC,MACF,CAEA,OAAO,iBAAiB,SAAU,IAAM,CAElC,OAAO,QAAU,IACnBA,EAAY,UAAU,IAAI,MAAM,EAEhCA,EAAY,UAAU,OAAO,MAAM,CAEvC,CAAC,EAEDA,EAAY,iBAAiB,QAAS,IAAM,CAC1C,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QAChB,CAAK,CACH,CAAC,CACH,CCtBO,SAASC,IAAa,CAE3B,SAAS,KAAK,iBAAiB,QAAU,GAAM,CAG7C,MAAMC,EAAU,EAAE,OAAO,QAAQ,gBAAgB,EAG3CC,EAAW,EAAE,OAAO,QAAQ,iBAAiB,EAG7CC,EAAQ,SAAS,eAAe,WAAW,EAGjD,GAAKA,EAGL,IAAIF,EAAS,CACX,EAAE,eAAc,EAChB,QAAQ,IAAI,2BAA2B,EACvCE,EAAM,UAAU,IAAI,SAAS,EAC7B,SAAS,KAAK,MAAM,SAAW,SAC/B,MACF,CAGA,GAAID,EAAU,CACZ,QAAQ,IAAI,wCAAwC,EACpDC,EAAM,UAAU,OAAO,SAAS,EAChC,SAAS,KAAK,MAAM,SAAW,GAC/B,MACF,CAII,EAAE,SAAWA,IACf,QAAQ,IAAI,2CAA2C,EACvDA,EAAM,UAAU,OAAO,SAAS,EAChC,SAAS,KAAK,MAAM,SAAW,IAEnC,CAAC,EAGD,OAAO,iBAAiB,UAAY,GAAM,CACxC,MAAMA,EAAQ,SAAS,eAAe,WAAW,EAC7C,EAAE,MAAQ,UAAYA,GAASA,EAAM,UAAU,SAAS,SAAS,IACnE,QAAQ,IAAI,sCAAsC,EAClDA,EAAM,UAAU,OAAO,SAAS,EAChC,SAAS,KAAK,MAAM,SAAW,GAEnC,CAAC,CACH,CClDA,MAAMC,EAAgB,SAAS,eAAe,qBAAqB,EAC7DF,GAAW,SAAS,cAAc,oBAAoB,EAGrD,SAASG,IAAwB,CAClCD,IACFA,EAAc,UAAU,OAAO,WAAW,EAE1C,SAAS,KAAK,MAAM,SAAW,SAEnC,CAGA,SAASE,GAAyB,CAC5BF,IACFA,EAAc,UAAU,IAAI,WAAW,EACvC,SAAS,KAAK,MAAM,SAAW,GAEnC,CAGIF,IACFA,GAAS,iBAAiB,QAASI,CAAsB,EAGvDF,IAEFA,EAAc,iBAAiB,QAAU,GAAM,CACzC,EAAE,SAAWA,GACfE,EAAsB,CAE1B,CAAC,EAGD,SAAS,iBAAiB,UAAY,GAAM,CACtC,EAAE,MAAQ,UAAY,CAACF,EAAc,UAAU,SAAS,WAAW,GACrEE,EAAsB,CAE1B,CAAC,GCzCH,MAAMC,GAAY,wBAClB,IAAIC,EAAc,EACdC,EAAgB,KAChBC,GAAW,KAEf,SAASC,GAAkB,CACzB,MAAMC,EAAWC,EAAY,EACzBD,GAAUA,EAAS,UAAU,OAAO,YAAY,EACpDJ,EAAc,EACdM,EAAa,EACbC,EAAa,CACf,CAEA,SAASF,GAAe,CACtB,MAAMG,EAAQ,SAAS,iBAAiB,IAAIT,EAAS,EAAE,EACvD,OAAAS,EAAM,QAAQ,CAACC,EAAMC,IAAQ,CACvBA,EAAM,GAAGD,EAAK,OAAM,CAC1B,CAAC,EACMD,EAAM,CAAC,GAAK,IACrB,CAEA,SAASG,IAAe,CACtB,IAAIC,EAASP,EAAY,EACzB,OAAKO,IACHA,EAAS,SAAS,cAAc,KAAK,EACrCA,EAAO,GAAKb,GACZa,EAAO,UAAY,iBACnBA,EAAO,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOnB,SAAS,KAAK,YAAYA,CAAM,GAE3BA,CACT,CAEO,SAASC,IAAa,CAC3B,MAAMD,EAASD,GAAY,EAC3BX,GAAe,EACfM,EAAa,EACbC,EAAa,EACb,sBAAsB,IAAMK,EAAO,UAAU,IAAI,YAAY,CAAC,EAE9DX,EAAgB,WAAW,IAAM,CAC/Ba,EAAW,CACb,EAAG,IAAK,CACV,CAEO,SAASC,GAAa,CAC3B,MAAMH,EAASP,EAAY,EACtBO,IACLZ,EAAc,KAAK,IAAI,EAAGA,EAAc,CAAC,EACrCA,IAAgB,IAClBY,EAAO,UAAU,OAAO,YAAY,EACpCN,EAAa,EACbC,EAAa,GAEjB,CAGO,SAASO,GAAc,CAC5B,MAAMF,EAASP,EAAY,EAC3BL,EAAc,EACdM,EAAa,EACbC,EAAa,EACTK,GAAQA,EAAO,UAAU,OAAO,YAAY,CAClD,CAGAT,EAAe,EACf,OAAO,iBAAiB,WAAYA,CAAe,EACnD,OAAO,iBAAiB,OAAQA,CAAe,EAC/C,SAAS,iBAAiB,mBAAoB,IAAM,CAC7C,SAAS,QAAQA,EAAe,CACvC,CAAC,EAED,OAAO,iBAAiB,OAAQ,IAAM,CACpC,WAAWW,EAAa,GAAG,CAC7B,CAAC,EAED,SAASR,GAAgB,CACnBL,IACF,aAAaA,CAAa,EAC1BA,EAAgB,KAEpB,CAEA,SAASM,GAAgB,CACnBL,KACJA,GAAW,YAAY,IAAM,CAC3B,MAAMU,EAASP,EAAY,EACtBO,GACDZ,IAAgB,GAAKY,EAAO,UAAU,SAAS,YAAY,GAC7DA,EAAO,UAAU,OAAO,YAAY,CAExC,EAAG,GAAI,EACT,CClGA,QAAQ,IAAI,gCAAgC,EAE5C,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,IAAII,EAAY,KAEhB,SAASC,EAAcC,EAAS,CAC1BF,IACJA,EAAY,SAAS,cAAc,KAAK,EACxCA,EAAU,UAAY,sBAEtBA,EAAU,iBAAiB,QAASE,CAAO,EAC3C,SAAS,KAAK,YAAYF,CAAS,EACrC,CAEA,SAASG,GAAgB,CAClBH,IACLA,EAAU,OAAM,EAChBA,EAAY,KACd,CAEA,SAASI,EAASC,EAASC,EAAY,CACrCA,EAAW,UAAU,IAAI,MAAM,EAC/BD,EAAQ,aAAa,gBAAiB,MAAM,EAC5CJ,EAAc,IAAMM,EAAUF,EAASC,CAAU,CAAC,EAClD,SAAS,KAAK,MAAM,SAAW,QACjC,CAEA,SAASC,EAAUF,EAASC,EAAY,CACtCA,EAAW,UAAU,OAAO,MAAM,EAC9BD,GAASA,EAAQ,aAAa,gBAAiB,OAAO,EAC1DF,EAAa,EACb,SAAS,KAAK,MAAM,SAAW,EACjC,CAGA,SAAS,iBAAiB,QAAU1I,GAAM,CAExC,QAAQ,IAAI,4BAA6BA,EAAE,MAAM,EAGjD,MAAMiC,EAAMjC,EAAE,OAAO,QAAQ,gBAAgB,EAC7C,GAAIiC,EAAK,CAEP,QAAQ,IAAI,6BAA6B,EAEzC,MAAM4G,EAAa,SAAS,cAAc,cAAc,EACxD,GAAI,CAACA,EAAY,OAEjB,QAAQ,IAAI,8BAA8B,EACtCA,EAAW,UAAU,SAAS,MAAM,EACtCC,EAAU7G,EAAK4G,CAAU,EAEzBF,EAAS1G,EAAK4G,CAAU,EAE1B,MACF,CAIA,GADa7I,EAAE,OAAO,QAAQ,wBAAwB,EAC5C,CACR,MAAM6I,EAAa,SAAS,cAAc,cAAc,EAClD5G,EAAM,SAAS,cAAc,gBAAgB,EAC/C4G,GAAcA,EAAW,UAAU,SAAS,MAAM,GACpD,WAAW,IAAMC,EAAU7G,EAAK4G,CAAU,EAAG,GAAG,CAEpD,CACF,CAAC,EAGD,SAAS,iBAAiB,UAAY7I,GAAM,CAC1C,GAAIA,EAAE,MAAQ,SAAU,CACtB,MAAM6I,EAAa,SAAS,cAAc,cAAc,EAClD5G,EAAM,SAAS,cAAc,gBAAgB,EAC/C4G,GAAcA,EAAW,UAAU,SAAS,MAAM,GACpDC,EAAU7G,EAAK4G,CAAU,CAE7B,CACF,CAAC,EAED,SAASE,GAAmB,OAC1B,MAAMC,EAAc,OAAO,SAAS,SACnB,SAAS,iBAAiB,WAAW,EAE7C,QAAQC,GAAQ,CACvBA,EAAK,UAAU,OAAO,QAAQ,EAE1BD,EAAY,SAASC,EAAK,aAAa,MAAM,EAAE,QAAQ,KAAM,EAAE,CAAC,GAClEA,EAAK,UAAU,IAAI,QAAQ,CAE/B,CAAC,GAGGD,IAAgB,KAAOA,EAAY,SAAS,YAAY,MAC1DlI,EAAA,SAAS,cAAc,gCAAgC,IAAvD,MAAAA,EAA0D,UAAU,IAAI,UAE5E,CACAiI,EAAgB,CAClB,CAAC,EC/FD,MAAM/K,GAAU,mCACVC,GAAW,+BAGXiL,EAAMC,GAAM,OAAO,CACvB,QAASlL,GACT,OAAQ,CACN,QAASD,GACT,SAAU,OACd,CACA,CAAC,EAOYoL,GAAc,MAAOC,EAAS,QAAU,CACnD,GAAI,CACF,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMJ,EAAI,IAAI,mBAAmBG,CAAM,EAAE,EAC1D,OAAOC,EAAK,OACd,OAASC,EAAO,CACd,cAAQ,MAAM,kBAAkBF,CAAM,eAAgBE,CAAK,EACrDA,CACR,CACF,EAwBaC,GAAkB,MAAOC,GAAY,CAChD,GAAI,CACF,KAAM,CAAE,KAAAH,CAAI,EAAK,MAAMJ,EAAI,IAAI,UAAUO,CAAO,EAAE,EAClD,OAAOH,CACT,OAASC,EAAO,CACd,cAAQ,MAAM,4BAA6BA,CAAK,EAC1CA,CACR,CACF,EAMaG,GAAiB,MAAOD,GAAY,CAC/C,GAAI,CACF,KAAM,CAAE,KAAAH,CAAI,EAAK,MAAMJ,EAAI,IAAI,UAAUO,CAAO,SAAS,EAEzD,OAAOH,EAAK,QAAQ,OAAOK,GAASA,EAAM,OAAS,WAAaA,EAAM,OAAS,SAAS,CAC1F,OAASJ,EAAO,CACd,cAAQ,MAAM,4BAA6BA,CAAK,EAC1CA,CACR,CACF,ECxEA,SAASpL,GAAoBC,EAAIC,EAAQ,CACvC,GAAI,CAACD,EAAI,OAETA,EAAG,UAAY,GAEf,MAAMwL,EAAa,KAAK,IAAI,EAAG,KAAK,IAAI,GAAIvL,GAAU,CAAC,CAAC,EAClDC,EAAY,KAAK,MAAMsL,EAAa,CAAC,EACrCrL,EAAcqL,EAAa,EAAItL,GAAa,GAElD,QAASE,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIC,EAAW,QAEXD,EAAIF,EACNG,EAAW,OACFD,IAAMF,GAAaC,IAC5BE,EAAW,QAGb,MAAMoL,EAAa,aAAa,KAAK,OAAA,EAAS,SAAS,EAAE,EAAE,MAAM,CAAC,CAAC,GAEnEzL,EAAG,WAAa;AAAA;AAAA;AAAA,gCAGYyL,CAAU;AAAA;AAAA;AAAA;AAAA,gCAIVA,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQxBpL,IAAa,OAAS,QAAQoL,CAAU,SAAWpL,IAAa,OAAS,QAAQoL,CAAU,SAAW,SAAS;AAAA;AAAA;AAAA,KAI/H,CACF,CAEA,SAASC,GAAWC,EAAK,CACvB,OAAOA,EAAI,KAAK,MAAM,KAAK,SAAWA,EAAI,MAAM,CAAC,CACnD,CAEA,eAAsBC,IAAW,CAC/B,MAAMjE,EAAc,SAAS,eAAe,cAAc,EAC1D,GAAI,CAACA,EAAa,OAElB,MAAMkE,EAAWlE,EAAY,aAAa,WAAW,EAGrD,GAAIkE,IAAa,WAIbA,IAAa,UACf,GAAI,CACA7B,GAAA,EACA,MAAMzH,EAAS,MAAMyI,GAAY,KAAK,EAEtC,GAAIzI,GAAUA,EAAO,OAAS,EAAG,CAC/B,MAAMuJ,EAAOJ,GAAWnJ,CAAM,EAE9BwJ,GAAkBpE,EAAamE,CAAI,CACrC,MAEEE,GAAkBrE,CAAW,CAEnC,OAASsE,EAAK,CACV,QAAQ,MAAM,yBAA0BA,CAAG,EAC3CD,GAAkBrE,CAAW,CACnC,QAAA,CACEuC,EAAA,CACA,CAEJ,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAElD0B,GAAA,EAAW,MAAMK,GAAO,QAAQ,MAAM,kBAAmBA,CAAG,CAAC,CAC/D,CAAC,EAED,SAASF,GAAkB5E,EAAW2E,EAAM,CAC1C,KAAM,CAAE,MAAAI,EAAO,SAAAC,EAAU,cAAAC,EAAe,aAAAC,EAAc,GAAA5L,GAAOqL,EAEvDQ,EAAW,IAAM,CACrB,MAAMC,EAAU,yFACVC,EAAW,OAAO,iBAAmB,IAE3C,IAAIC,EAAW,GACf,GAAIL,EAAe,CACf,IAAIM,EAAU,OACV,OAAO,YAAc,KAAMA,EAAUF,EAAW,WAAa,QACxD,OAAO,YAAc,MAAKE,EAAUF,EAAW,QAAU,QAClEC,EAAW,8BAA8BC,CAAO,GAAGN,CAAa,EACpE,MAIEK,EAAW,yBAFID,EAAW,OAAS,EAEO,OAG5CrF,EAAU,MAAM,gBAAkB,GAAGoF,CAAO,UAAUE,CAAQ,KAC9DtF,EAAU,MAAM,eAAiB,QACjCA,EAAU,MAAM,mBAAqB,QACvC,EAEAmF,EAAA,EACiB,IAAI,iBAAiBA,CAAQ,EACrC,QAAQ,SAAS,KAAM,CAAE,WAAY,GAAM,gBAAiB,CAAC,OAAO,EAAG,EAChF,OAAO,iBAAiB,SAAUA,CAAQ,EAE1CnF,EAAU,UAAY;AAAA;AAAA,+BAEO+E,CAAK;AAAA;AAAA,oCAEAC,EAAS,MAAM,EAAG,GAAG,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQxDpM,GAAoBoH,EAAU,cAAc,oBAAoB,EAAGkF,CAAY,EAIjFlF,EAAU,cAAc,gBAAgB,EAAE,QAAU,MAAOvF,GAAM,CAC7DA,EAAE,eAAA,EACFoI,GAAA,EAEA,GAAI,CAEF,MAAM2C,EAAS,MAAMrB,GAAe7K,CAAE,EAElCkM,GAAUA,EAAO,OAAS,EAC5B,OAAO,cAAc,IAAI,YAAY,mBAAoB,CAAE,OAAQ,CAAE,QAASlM,CAAA,CAAG,CAAG,CAAC,EAErFuI,GAAA,CAGJ,OAASmC,EAAO,CACd,QAAQ,IAAI,QAASA,CAAK,EAC1BnC,GAAA,CACF,QAAA,CACEkB,EAAA,CACF,CACF,EAGA/C,EAAU,cAAc,eAAe,EAAE,QAAU,IAAM,CACvD,OAAO,cAAc,IAAI,YAAY,mBAAoB,CAAE,OAAQ,CAAE,MAAO2E,CAAA,CAAK,CAAG,CAAC,CACvF,CACF,CAEA,SAASE,GAAkB7E,EAAW,CACpCA,EAAU,UAAU,IAAI,cAAc,EAEtC,MAAMyF,EAAkB,IAAM,CAC5B,MAAMJ,EAAW,OAAO,iBAAmB,IACrCD,EAAU,yFAGhB,IAAIM,EAAW,OAAO,WAAa,IAAM,UAAY,YACjDL,IAAUK,GAAY,QAI1B,MAAMJ,EAAW,gBAAgBI,CAAQ,OAAO,QAAQ,OAAQ,GAAG,EAEnE,QAAQ,IAAI,uBAAwBJ,CAAQ,EAE5CtF,EAAU,MAAM,gBAAkB,GAAGoF,CAAO,UAAUE,CAAQ,KAC9DtF,EAAU,MAAM,eAAiB,QACjCA,EAAU,MAAM,mBAAqB,QACvC,EAEAyF,EAAA,EACA,OAAO,iBAAiB,SAAUA,CAAe,EAEjDzF,EAAU,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQtB,MAAM2F,EAAY3F,EAAU,cAAc,aAAa,EACnD2F,IACFA,EAAU,QAAU,IAAM,CACxB,OAAO,SAAS,KAAO,gBACzB,EAEJ,CCxMA,MAAMC,GAAM,YAEL,SAASC,GAAa,CAC3B,GAAI,CACF,MAAMC,EAAM,aAAa,QAAQF,EAAG,EACpC,OAAOE,EAAM,KAAK,MAAMA,CAAG,EAAI,CAAA,CACjC,OAAShB,EAAK,CACZ,eAAQ,MAAM,0BAA2BA,CAAG,EACrC,CAAA,CACT,CACF,CAEO,SAASiB,GAAYvB,EAAK,CAC/B,GAAI,CACF,aAAa,QAAQoB,GAAK,KAAK,UAAUpB,CAAG,CAAC,CAC/C,OAASM,EAAK,CACZ,QAAQ,MAAM,2BAA4BA,CAAG,CAC/C,CACF,CAEO,SAASkB,GAAY1M,EAAI,CAE9B,OADYuM,EAAU,EACX,KAAKtM,GAAK,OAAOA,EAAE,EAAE,IAAM,OAAOD,CAAE,CAAC,CAClD,CAEO,SAAS2M,GAASxM,EAAO,CAC9B,MAAMyM,EAAML,EAAU,EACjBK,EAAI,KAAK3M,GAAK,OAAOA,EAAE,EAAE,IAAM,OAAOE,EAAM,EAAE,CAAC,IAClDyM,EAAI,KAAKzM,CAAK,EACdsM,GAAYG,CAAG,EAEnB,CAEO,SAASC,GAAY7M,EAAI,CAC9B,IAAI4M,EAAML,EAAU,EACpBK,EAAMA,EAAI,OAAO3M,GAAK,OAAOA,EAAE,EAAE,IAAM,OAAOD,CAAE,CAAC,EACjDyM,GAAYG,CAAG,CACjB,CCjCA,SAASE,IAAkB,CAEzB,GAAI,SAAS,cAAc,WAAW,EACpC,OAGF,MAAMhB,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,qBACpBA,EAAQ,aAAa,aAAc,EAAE,EAErC,MAAMiB,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,UAAY,QAGzBA,EAAa,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA,IAOzBjB,EAAQ,YAAYiB,CAAY,EAChC,SAAS,KAAK,YAAYjB,CAAO,EAGjC,MAAM1D,EAAW2E,EAAa,cAAc,oBAAoB,EAEhEjB,EAAQ,iBAAiB,QAAU3K,GAAM,CACnCA,EAAE,SAAW2K,GAASkB,EAAgB,CAC5C,CAAC,EAED5E,EAAS,iBAAiB,QAAS4E,CAAgB,EAEnD,SAAS,iBAAiB,UAAY7L,GAAM,CACtCA,EAAE,MAAQ,UAAU6L,EAAgB,CAC1C,CAAC,CACH,CAGA,SAASA,GAAmB,CAC1B,MAAMlB,EAAU,SAAS,cAAc,WAAW,EAClD,GAAIA,EAAS,CACXA,EAAQ,UAAU,IAAI,WAAW,EACjC,SAAS,KAAK,UAAU,OAAO,YAAY,EAC3C,MAAMmB,EAAU,SAAS,eAAe,eAAe,EACnDA,IAASA,EAAQ,UAAY,GACnC,CACF,CAGAH,GAAe,EAGR,eAAeI,GAAiBtC,EAAS,CAC9C,MAAMkB,EAAU,SAAS,cAAc,WAAW,EAC5CmB,EAAU,SAAS,eAAe,eAAe,EAGvDA,EAAQ,UAAY,6EAEpBnB,EAAQ,UAAU,OAAO,WAAW,EACpC,SAAS,KAAK,UAAU,IAAI,YAAY,EAExC,GAAI,CAEF,MAAMrB,EAAO,MAAME,GAAgBC,CAAO,EAGpCuC,EAAY1C,EAAK,YACnB,kCAAkCA,EAAK,WAAW,GAClD,oDAEE2C,EAAa3C,EAAK,OAASA,EAAK,OAAO,IAAInK,GAAKA,EAAE,IAAI,EAAE,KAAK,IAAI,EAAI,UACrE+M,EAAQX,GAAYjC,EAAK,EAAE,EAC3B6C,EAAc7C,EAAK,aAAeA,EAAK,aAAa,MAAM,EAAG,CAAC,EAAI,MAGlE8C,EAAS;AAAA;AAAA,oBAECJ,CAAS,UAAU1C,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIfA,EAAK,MAAM,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAMfA,EAAK,aAAa,QAAQ,CAAC,CAAC;AAAA,yCAC9BA,EAAK,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKhBA,EAAK,WAAW,QAAQ,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA,wCAI1B2C,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKZ3C,EAAK,UAAY,2BAA2B;AAAA;AAAA;AAAA,mEAGf4C,EAAQ,SAAW,EAAE;AAAA,cAC1EA,EAAQ,sBAAwB,mBAAmB;AAAA;AAAA;AAAA;AAAA,MAM7DJ,EAAQ,UAAYM,EAGpB,MAAMC,EAAS,SAAS,eAAe,mBAAmB,EAC1DA,EAAO,iBAAiB,QAAS,IAAM,CACrC,GAAId,GAAYjC,EAAK,EAAE,EACrBoC,GAAYpC,EAAK,EAAE,EACnB+C,EAAO,YAAc,oBACrBA,EAAO,UAAU,OAAO,QAAQ,MAC3B,CAEL,MAAMC,EAAc,CAClB,GAAIhD,EAAK,GACT,MAAOA,EAAK,MACZ,YAAaA,EAAK,YAClB,aAAcA,EAAK,aACnB,aAAcA,EAAK,aACnB,OAAQA,EAAK,MACvB,EACQkC,GAASc,CAAW,EACpBD,EAAO,YAAc,sBACrBA,EAAO,UAAU,IAAI,QAAQ,CAC/B,CACF,CAAC,CAEH,OAAShC,EAAK,CACZ,QAAQ,MAAM,gBAAiBA,CAAG,EAClCyB,EAAQ,UAAY,8EACtB,CACF,CAIA,MAAMS,GAAe,CACnB,eACA,kBACA,eACA,WACF,EAGAA,GAAa,QAAQ1N,GAAM,CACzB,MAAM0G,EAAY,SAAS,eAAe1G,CAAE,EACxC0G,GACFA,EAAU,iBAAiB,QAAUvF,GAAM,CAGzC,MAAMgB,EAAOhB,EAAE,OAAO,QAAQ,aAAa,GAAKA,EAAE,OAAO,QAAQ,qBAAqB,EAGtF,GAAIgB,GAAQA,EAAK,QAAQ,GAAI,CAC3BhB,EAAE,eAAc,EAChB,MAAMyJ,EAAUzI,EAAK,QAAQ,GAC7B+K,GAAiBtC,CAAO,CAC1B,CACF,CAAC,CAEL,CAAC,EAGD,OAAO,iBAAiB,mBAAqB+C,GAAU,CACrD,MAAMC,EAAYD,EAAM,OAAO,MAE3BC,GAAaA,EAAU,IACzBV,GAAiBU,EAAU,EAAE,CAEjC,CAAC,EAID,OAAO,iBAAiB,mBAAoB,MAAOD,GAAU,CAC3D,MAAM/C,EAAU+C,EAAM,OAAO,QACvB7B,EAAU,SAAS,cAAc,WAAW,EAC5CmB,EAAU,SAAS,eAAe,eAAe,EAGvDnB,EAAQ,UAAU,OAAO,WAAW,EACpC,SAAS,KAAK,UAAU,IAAI,YAAY,EACxCmB,EAAQ,UAAY,6EAEpB,GAAI,CACF,MAAMf,EAAS,MAAMrB,GAAeD,CAAO,EAK3C,GAJA,QAAQ,IAAI,kBAAmBsB,CAAM,EAIjCA,GAAUA,EAAO,OAAS,EAAG,CAC/B,MAAM2B,EAAa3B,EAAO,CAAC,EAAE,IAI7Be,EAAQ,UAAY;AAAA;AAAA;AAAA,iDAGuBY,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQvD,MACEZ,EAAQ,UAAY,2EAExB,OAASvC,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CuC,EAAQ,UAAY,6FACtB,CACF,CAAC,EC5MDjO,KACAkJ,GAAU,EAMN,SAAS,KAAK,QAAQ,OAAS,gBACjC,oBAAmB,EAGrB,SAAS,iBAAiB,mBAAoB,IAAM,CAElDsB,EAAW,EACXC,EAAU,EAEVzB,GAAY,EAGR,SAAS,eAAe,cAAc,GACxC/B,GAAe,EAIb,SAAS,eAAe,iBAAiB,GAC3C1C,GAAW,EAIT,SAAS,eAAe,WAAW,GACrChD,GAAW,EAGb,MAAMuN,EAAiB,SAAS,eAAe,UAAU,EACrDA,GACFA,EAAe,iBAAiB,QAAS,IAAM,CAC7C,OAAO,SAAS,KAAO,gBACzB,CAAC,CAEL,CAAC"}